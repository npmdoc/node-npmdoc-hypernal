<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/thlorenz/hypernal">hypernal (v0.3.0)</a>
</h1>
<h4>Renders terminal output as html to simplify reusing server side modules in the browser.</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal">module hypernal</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.hypernal">
            function <span class="apidocSignatureSpan"></span>hypernal
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.blankLine">
            function <span class="apidocSignatureSpan">hypernal.</span>blankLine
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.charsets">
            function <span class="apidocSignatureSpan">hypernal.</span>charsets
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.colors">
            function <span class="apidocSignatureSpan">hypernal.</span>colors
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.cursor">
            function <span class="apidocSignatureSpan">hypernal.</span>cursor
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.debug">
            function <span class="apidocSignatureSpan">hypernal.</span>debug
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.destroy">
            function <span class="apidocSignatureSpan">hypernal.</span>destroy
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.erase">
            function <span class="apidocSignatureSpan">hypernal.</span>erase
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.open">
            function <span class="apidocSignatureSpan">hypernal.</span>open
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.options">
            function <span class="apidocSignatureSpan">hypernal.</span>options
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.range">
            function <span class="apidocSignatureSpan">hypernal.</span>range
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.refresh">
            function <span class="apidocSignatureSpan">hypernal.</span>refresh
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.scrollDisp">
            function <span class="apidocSignatureSpan">hypernal.</span>scrollDisp
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.setgCharset">
            function <span class="apidocSignatureSpan">hypernal.</span>setgCharset
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.setgLevel">
            function <span class="apidocSignatureSpan">hypernal.</span>setgLevel
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.stops">
            function <span class="apidocSignatureSpan">hypernal.</span>stops
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term">
            function <span class="apidocSignatureSpan">hypernal.</span>term
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.toString">
            function <span class="apidocSignatureSpan">hypernal.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.util">
            function <span class="apidocSignatureSpan">hypernal.</span>util
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.write">
            function <span class="apidocSignatureSpan">hypernal.</span>write
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.</span>term.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.blankLine">module hypernal.blankLine</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.blankLine.blankLine">
            function <span class="apidocSignatureSpan">hypernal.</span>blankLine
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.charsets">module hypernal.charsets</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.charsets.charsets">
            function <span class="apidocSignatureSpan">hypernal.</span>charsets
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.colors">module hypernal.colors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.colors.colors">
            function <span class="apidocSignatureSpan">hypernal.</span>colors
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.cursor">module hypernal.cursor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.cursor.cursor">
            function <span class="apidocSignatureSpan">hypernal.</span>cursor
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.debug">module hypernal.debug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.debug.debug">
            function <span class="apidocSignatureSpan">hypernal.</span>debug
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.destroy">module hypernal.destroy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.destroy.destroy">
            function <span class="apidocSignatureSpan">hypernal.</span>destroy
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.erase">module hypernal.erase</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.erase.erase">
            function <span class="apidocSignatureSpan">hypernal.</span>erase
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.open">module hypernal.open</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.open.open">
            function <span class="apidocSignatureSpan">hypernal.</span>open
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.options">module hypernal.options</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.options.options">
            function <span class="apidocSignatureSpan">hypernal.</span>options
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.range">module hypernal.range</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.range.range">
            function <span class="apidocSignatureSpan">hypernal.</span>range
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.refresh">module hypernal.refresh</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.refresh.refresh">
            function <span class="apidocSignatureSpan">hypernal.</span>refresh
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.scrollDisp">module hypernal.scrollDisp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.scrollDisp.scrollDisp">
            function <span class="apidocSignatureSpan">hypernal.</span>scrollDisp
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.setgCharset">module hypernal.setgCharset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.setgCharset.setgCharset">
            function <span class="apidocSignatureSpan">hypernal.</span>setgCharset
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.setgLevel">module hypernal.setgLevel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.setgLevel.setgLevel">
            function <span class="apidocSignatureSpan">hypernal.</span>setgLevel
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.stops">module hypernal.stops</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.stops.stops">
            function <span class="apidocSignatureSpan">hypernal.</span>stops
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.term">module hypernal.term</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>cursorBlink</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>debug</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>popOnBell</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>programFeatures</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>screenKeys</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>visualBell</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.term">
            function <span class="apidocSignatureSpan">hypernal.</span>term
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">hypernal.term.</span>scrollback</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>charsets</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>colors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>defaultColors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>geometry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">hypernal.term.</span>termName</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.term.prototype">module hypernal.term.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.HPositionRelative">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HPositionRelative
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.HVPosition">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HVPosition
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.VPositionRelative">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>VPositionRelative
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.bell">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>bell
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.blankLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>blankLine
            <span class="apidocSignatureSpan">(cur)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.ch">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>ch
            <span class="apidocSignatureSpan">(cur)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.charAttributes">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charAttributes
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.charPosAbsolute">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charPosAbsolute
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorBackward">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackward
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorBackwardTab">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackwardTab
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorCharAbsolute">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorCharAbsolute
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorDown">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorDown
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorForward">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForward
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorForwardTab">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForwardTab
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorNextLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorNextLine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorPos">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPos
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorPrecedingLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPrecedingLine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorUp">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorUp
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.deleteChars">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteChars
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.deleteLines">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteLines
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.destroy">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseChars">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseChars
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseInDisplay">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInDisplay
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseInLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInLine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseLeft">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLeft
            <span class="apidocSignatureSpan">(x, y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLine
            <span class="apidocSignatureSpan">(y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseRight">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseRight
            <span class="apidocSignatureSpan">(x, y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.error">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.index">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>index
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.insertChars">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertChars
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.insertLines">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertLines
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.is">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>is
            <span class="apidocSignatureSpan">(term)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.linePosAbsolute">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>linePosAbsolute
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.log">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.maxRange">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>maxRange
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.nextStop">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>nextStop
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.open">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>open
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.prevStop">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>prevStop
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.refresh">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>refresh
            <span class="apidocSignatureSpan">(start, end)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.repeatPrecedingCharacter">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>repeatPrecedingCharacter
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.reset">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.restoreCursor">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>restoreCursor
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.reverseIndex">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reverseIndex
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.saveCursor">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>saveCursor
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.setupStops">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>setupStops
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.softReset">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>softReset
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.tabClear">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabClear
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.tabSet">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabSet
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.updateRange">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>updateRange
            <span class="apidocSignatureSpan">(y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.write">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>write
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.writeln">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>writeln
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.toString">module hypernal.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.toString.toString">
            function <span class="apidocSignatureSpan">hypernal.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.util">module hypernal.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.util.util">
            function <span class="apidocSignatureSpan">hypernal.</span>util
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.write">module hypernal.write</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.write.write">
            function <span class="apidocSignatureSpan">hypernal.</span>write
            <span class="apidocSignatureSpan">(Terminal)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal" id="apidoc.module.hypernal">module hypernal</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.hypernal" id="apidoc.element.hypernal.hypernal">
        function <span class="apidocSignatureSpan"></span>hypernal
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hypernal = function (opts) {
  var term = new Terminal(opts);
  term.open();

  var hypernal = through(term.write.bind(term));
  hypernal.appendTo = function (parent) {
    if (typeof parent === 'string') parent = document.querySelector(parent);

    parent.appendChild(term.element);
    style(parent);
    hypernal.container = parent;
    term.element.style.position = 'relative';
  };

  hypernal.writeln = function (line) {
    term.writeln(line);
    if (hypernal.tail) scroll(hypernal.container);
  };

  hypernal.write = function (data) {
    term.write(data);
    if (hypernal.tail) scroll(hypernal.container);
  };

  // convenience shortcuts
  hypernal.reset   =  term.reset.bind(term);
  hypernal.element =  term.element;

  // the underlying term for all other needs
  hypernal.term = term;

  return hypernal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.blankLine" id="apidoc.element.hypernal.blankLine">
        function <span class="apidocSignatureSpan">hypernal.</span>blankLine
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blankLine = function (Terminal) {
  Terminal.prototype.blankLine = function(cur) {
    var attr = cur ? this.curAttr : this.defAttr;

    var ch = [attr, ' '],
      line = [],
      i = 0;

    for (; i &lt; this.cols; i++) {
      line[i] = ch;
    }

    return line;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...



'use strict';

function addRowsOnDemand () {
  while (this.y &gt;= this.rows) {
    this.lines.push(this.<span class="apidocCodeKeywordSpan">blankLine</span>());
    var div = document.createElement('div');
    this.element.appendChild(div);
    this.children.push(div);

    this.rows++;
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.charsets" id="apidoc.element.hypernal.charsets">
        function <span class="apidocSignatureSpan">hypernal.</span>charsets
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charsets = function (Terminal) {

Terminal.charsets = {};

  // DEC Special Character and Line Drawing Set.
  // http://vt100.net/docs/vt102-ug/table5-13.html
  // A lot of curses apps use this if they see TERM=xterm.
  // testing: echo -e '\e(0a\e(B'
  // The xterm output sometimes seems to conflict with the
  // reference above. xterm seems in line with the reference
  // when running vttest however.
  // The table below now uses xterm's output from vttest.
  Terminal.charsets.SCLD = { // (0
    '`': '\u25c6', // 'â—†'
    'a': '\u2592', // 'â–’'
    'b': '\u0009', // '\t'
    'c': '\u000c', // '\f'
    'd': '\u000d', // '\r'
    'e': '\u000a', // '\n'
    'f': '\u00b0', // 'Â°'
    'g': '\u00b1', // 'Â±'
    'h': '\u2424', // '\u2424' (NL)
    'i': '\u000b', // '\v'
    'j': '\u2518', // 'â”˜'
    'k': '\u2510', // 'â”'
    'l': '\u250c', // 'â”Œ'
    'm': '\u2514', // 'â””'
    'n': '\u253c', // 'â”¼'
    'o': '\u23ba', // 'âŽº'
    'p': '\u23bb', // 'âŽ»'
    'q': '\u2500', // 'â”€'
    'r': '\u23bc', // 'âŽ¼'
    's': '\u23bd', // 'âŽ½'
    't': '\u251c', // 'â”œ'
    'u': '\u2524', // 'â”¤'
    'v': '\u2534', // 'â”´'
    'w': '\u252c', // 'â”¬'
    'x': '\u2502', // 'â”‚'
    'y': '\u2264', // 'â‰¤'
    'z': '\u2265', // 'â‰¥'
    '{': '\u03c0', // 'Ï€'
    '|': '\u2260', // 'â‰&nbsp;'
    '}': '\u00a3', // 'Â£'
    '~': '\u00b7' // 'Â·'
  };

  Terminal.charsets.UK = null; // (A
  Terminal.charsets.US = null; // (B (USASCII)
  Terminal.charsets.Dutch = null; // (4
  Terminal.charsets.Finnish = null; // (C or (5
  Terminal.charsets.French = null; // (R
  Terminal.charsets.FrenchCanadian = null; // (Q
  Terminal.charsets.German = null; // (K
  Terminal.charsets.Italian = null; // (Y
  Terminal.charsets.NorwegianDanish = null; // (E or (6
  Terminal.charsets.Spanish = null; // (Z
  Terminal.charsets.Swedish = null; // (H or (7
  Terminal.charsets.Swiss = null; // (=
  Terminal.charsets.ISOLatin = null; // /A

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.colors" id="apidoc.element.hypernal.colors">
        function <span class="apidocSignatureSpan">hypernal.</span>colors
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">colors = function (Terminal) {

  // Colors 0-15
  Terminal.colors = [
  // dark:
  '#2e3436', '#cc0000', '#4e9a06', '#c4a000', '#3465a4', '#75507b', '#06989a', '#d3d7cf',
  // bright:
  '#555753', '#ef2929', '#8ae234', '#fce94f', '#729fcf', '#ad7fa8', '#34e2e2', '#eeeeec'];

  // Colors 16-255
  // Much thanks to TooTallNate for writing this.
  Terminal.colors = (function() {
    var colors = Terminal.colors,
      r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff],
      i;

    // 16-231
    i = 0;
    for (; i &lt; 216; i++) {
      out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);
    }

    // 232-255 (grey)
    i = 0;
    for (; i &lt; 24; i++) {
      r = 8 + i * 10;
      out(r, r, r);
    }

    function out(r, g, b) {
      colors.push('#' + hex(r) + hex(g) + hex(b));
    }

    function hex(c) {
      c = c.toString(16);
      return c.length &lt; 2 ? '0' + c : c;
    }

    return colors;
  })();

  // Default BG/FG
  Terminal.defaultColors = {
    bg: '#000000',
    fg: '#f0f0f0'
  };

  Terminal.colors[256] = Terminal.defaultColors.bg;
  Terminal.colors[257] = Terminal.defaultColors.fg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.cursor" id="apidoc.element.hypernal.cursor">
        function <span class="apidocSignatureSpan">hypernal.</span>cursor
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (Terminal) {
  Terminal.prototype.cursorBlink = function() {
    if (Terminal.focus !== this) return;
    this.cursorState ^= 1;
    this.refresh(this.y, this.y);
  };

  Terminal.prototype.showCursor = function() {
    if (!this.cursorState) {
      this.cursorState = 1;
      this.refresh(this.y, this.y);
    } else {
      // Temporarily disabled:
      // this.refreshBlink();
    }
  };

  Terminal.prototype.startBlink = function() {
    if (!Terminal.cursorBlink) return;
    var self = this;
    this._blinker = function() {
      self.cursorBlink();
    };
    this._blink = setInterval(this._blinker, 500);
  };

  Terminal.prototype.refreshBlink = function() {
    if (!Terminal.cursorBlink) return;
    clearInterval(this._blink);
    this._blink = setInterval(this._blinker, 500);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.debug" id="apidoc.element.hypernal.debug">
        function <span class="apidocSignatureSpan">hypernal.</span>debug
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (Terminal) {
  Terminal.prototype.log = function() {
    if (!Terminal.debug) return;
    if (!window.console || !window.console.log) return;
    var args = Array.prototype.slice.call(arguments);
    window.console.log.apply(window.console, args);
  };

  Terminal.prototype.error = function() {
    if (!Terminal.debug) return;
    if (!window.console || !window.console.error) return;
    var args = Array.prototype.slice.call(arguments);
    window.console.error.apply(window.console, args);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.destroy" id="apidoc.element.hypernal.destroy">
        function <span class="apidocSignatureSpan">hypernal.</span>destroy
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (Terminal) {
  Terminal.prototype.destroy = function() {
    this.readable = false;
    this.writable = false;
    this._events = {};
    this.handler = function() {};
    this.write = function() {};
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.erase" id="apidoc.element.hypernal.erase">
        function <span class="apidocSignatureSpan">hypernal.</span>erase
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">erase = function (Terminal) {
  Terminal.prototype.eraseRight = function(x, y) {
    var line = this.lines[this.ybase + y],
      ch = [this.curAttr, ' ']; // xterm

    for (; x &lt; this.cols; x++) {
      line[x] = ch;
    }

    this.updateRange(y);
  };

  Terminal.prototype.eraseLeft = function(x, y) {
    var line = this.lines[this.ybase + y],
      ch = [this.curAttr, ' ']; // xterm

    x++;
    while (x--) line[x] = ch;

    this.updateRange(y);
  };

  Terminal.prototype.eraseLine = function(y) {
    this.eraseRight(0, y);
  };

  // CSI Ps J Erase in Display (ED).
  // Ps = 0 -&gt; Erase Below (default).
  // Ps = 1 -&gt; Erase Above.
  // Ps = 2 -&gt; Erase All.
  // Ps = 3 -&gt; Erase Saved Lines (xterm).
  // CSI ? Ps J
  // Erase in Display (DECSED).
  // Ps = 0 -&gt; Selective Erase Below (default).
  // Ps = 1 -&gt; Selective Erase Above.
  // Ps = 2 -&gt; Selective Erase All.
  Terminal.prototype.eraseInDisplay = function(params) {
      var j;
      switch (params[0]) {
      case 0:
          this.eraseRight(this.x, this.y);
          j = this.y + 1;
          for (; j &lt; this.rows; j++) {
              this.eraseLine(j);
          }
          break;
      case 1:
          this.eraseLeft(this.x, this.y);
          j = this.y;
          while (j--) {
              this.eraseLine(j);
          }
          break;
      case 2:
          j = this.rows;
          while (j--) this.eraseLine(j);
          break;
      case 3:
          ; // no saved lines
          break;
      }
  };

  // CSI Ps K Erase in Line (EL).
  // Ps = 0 -&gt; Erase to Right (default).
  // Ps = 1 -&gt; Erase to Left.
  // Ps = 2 -&gt; Erase All.
  // CSI ? Ps K
  // Erase in Line (DECSEL).
  // Ps = 0 -&gt; Selective Erase to Right (default).
  // Ps = 1 -&gt; Selective Erase to Left.
  // Ps = 2 -&gt; Selective Erase All.
  Terminal.prototype.eraseInLine = function(params) {
      switch (params[0]) {
      case 0:
          this.eraseRight(this.x, this.y);
          break;
      case 1:
          this.eraseLeft(this.x, this.y);
          break;
      case 2:
          this.eraseLine(this.y);
          break;
      }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.open" id="apidoc.element.hypernal.open">
        function <span class="apidocSignatureSpan">hypernal.</span>open
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (Terminal) {
<span class="apidocCodeCommentSpan">  /**
  * Open Terminal
  */
</span>
  Terminal.prototype.open = function() {
    var self = this,
      i = 0,
      div;

    this.element = document.createElement('div');
    this.element.className = 'terminal';
    this.children = [];

    for (; i &lt; this.rows; i++) {
      div = document.createElement('div');
      this.element.appendChild(div);
      this.children.push(div);
    }

    this.refresh(0, this.rows - 1);

    // XXX - hack, move this somewhere else.
    if (Terminal.brokenBold === null) {
      Terminal.brokenBold = isBoldBroken();
    }

    // sync default bg/fg colors
    this.element.style.backgroundColor = Terminal.defaultColors.bg;
    this.element.style.color = Terminal.defaultColors.fg;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function scroll(elem) {
  if (!elem) return;
  elem.scrollTop = elem.scrollHeight;
}

module.exports = function (opts) {
  var term = new Terminal(opts);
  term.<span class="apidocCodeKeywordSpan">open</span>();

  var hypernal = through(term.write.bind(term));
  hypernal.appendTo = function (parent) {
if (typeof parent === 'string') parent = document.querySelector(parent);

parent.appendChild(term.element);
style(parent);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.options" id="apidoc.element.hypernal.options">
        function <span class="apidocSignatureSpan">hypernal.</span>options
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (Terminal) {
  Terminal.termName        =  'xterm';
  Terminal.geometry        =  [80, 24];
  Terminal.cursorBlink     =  true;
  Terminal.visualBell      =  false;
  Terminal.popOnBell       =  false;
  Terminal.scrollback      =  1000;
  Terminal.screenKeys      =  false;
  Terminal.programFeatures =  false;
  Terminal.debug           =  false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.range" id="apidoc.element.hypernal.range">
        function <span class="apidocSignatureSpan">hypernal.</span>range
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">range = function (Terminal) {
  Terminal.prototype.updateRange = function(y) {
    if (y &lt; this.refreshStart) this.refreshStart = y;
    if (y &gt; this.refreshEnd) this.refreshEnd = y;
    addRowsOnDemand.bind(this)();
  };

  Terminal.prototype.maxRange = function() {
    this.refreshStart = 0;
    this.refreshEnd = this.rows - 1;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.refresh" id="apidoc.element.hypernal.refresh">
        function <span class="apidocSignatureSpan">hypernal.</span>refresh
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">refresh = function (Terminal) {

<span class="apidocCodeCommentSpan">  /**
  * Rendering Engine
  */
</span>
  // In the screen buffer, each character
  // is stored as a an array with a character
  // and a 32-bit integer.
  // First value: a utf-16 character.
  // Second value:
  // Next 9 bits: background color (0-511).
  // Next 9 bits: foreground color (0-511).
  // Next 14 bits: a mask for misc. flags:
  // 1=bold, 2=underline, 4=inverse

  Terminal.prototype.refresh = function(start, end) {
    var x, y, i, line, out, ch, width, data, attr, fgColor, bgColor, flags, row, parent;


    width = this.cols;
    y = start;

    for (; y &lt;= end; y++) {
      row = y + this.ydisp;

      line = this.lines[row];
      if (!line) {
        // simple solution in case we have more lines than rows
        // could be improved to instead remove first line (and related html element)
        return this.reset();
      }

      out = '';

      if (y === this.y &amp;&amp; this.cursorState &amp;&amp; this.ydisp === this.ybase &amp;&amp; !this.cursorHidden) {
        x = this.x;
      } else {
        x = -1;
      }

      attr = this.defAttr;
      i = 0;

      for (; i &lt; width; i++) {
        data = line[i][0];
        ch = line[i][1];

        if (i === x) data = -1;

        if (data !== attr) {
          if (attr !== this.defAttr) {
            out += '&lt;/span&gt;';
          }
          if (data !== this.defAttr) {
            if (data === -1) {
              out += '&lt;span class="reverse-video"&gt;';
            } else {
              out += '&lt;span style="';

              bgColor = data &amp; 0x1ff;
              fgColor = (data &gt;&gt; 9) &amp; 0x1ff;
              flags = data &gt;&gt; 18;

              if (flags &amp; 1) {
                if (!Terminal.brokenBold) {
                  out += 'font-weight:bold;';
                }
                // see: XTerm*boldColors
                if (fgColor &lt; 8) fgColor += 8;
              }

              if (flags &amp; 2) {
                out += 'text-decoration:underline;';
              }

              if (bgColor !== 256) {
                out += 'background-color:' + Terminal.colors[bgColor] + ';';
              }

              if (fgColor !== 257) {
                out += 'color:' + Terminal.colors[fgColor] + ';';
              }

              out += '"&gt;';
            }
          }
        }

        switch (ch) {
        case '&amp;':
          out += '&amp;';
          break;
        case '&lt;':
          out += '&lt;';
          break;
        case '&gt;':
          out += '&gt;';
          break;
        default:
          if (ch &lt;= ' ') {
            out += ' ';
          } else {
            out += ch;
          }
          break;
        }

        attr = data;
      }

      if (attr !== this.defAttr) {
        out += '&lt;/span&gt;';
      }

      this.children[y].innerHTML = out;
    }

    if (parent) parent.appendChild(this.element);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

'use strict';

module.exports = function (Terminal) {
Terminal.prototype.cursorBlink = function() {
  if (Terminal.focus !== this) return;
  this.cursorState ^= 1;
  this.<span class="apidocCodeKeywordSpan">refresh</span>(this.y, this.y);
};

Terminal.prototype.showCursor = function() {
  if (!this.cursorState) {
    this.cursorState = 1;
    this.refresh(this.y, this.y);
  } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.scrollDisp" id="apidoc.element.hypernal.scrollDisp">
        function <span class="apidocSignatureSpan">hypernal.</span>scrollDisp
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">scrollDisp = function (Terminal) {
  Terminal.prototype.scrollDisp = function(disp) {
    this.ydisp += disp;

    if (this.ydisp &gt; this.ybase) {
      this.ydisp = this.ybase;
    } else if (this.ydisp &lt; 0) {
      this.ydisp = 0;
    }

    this.refresh(0, this.rows - 1);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.setgCharset" id="apidoc.element.hypernal.setgCharset">
        function <span class="apidocSignatureSpan">hypernal.</span>setgCharset
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setgCharset = function (Terminal) {
  Terminal.prototype.setgCharset = function(g, charset) {
    this.charsets[g] = charset;
    if (this.glevel === g) {
      this.charset = charset;
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  break;

  // ESC % Select default/utf-8 character set.
  // @ = default, G = utf-8
case '%':
  //this.charset = null;
  this.setgLevel(0);
  this.<span class="apidocCodeKeywordSpan">setgCharset</span>(0, Terminal.charsets.US);
  this.state = states.normal;
  i++;
  break;

  // ESC (,),*,+,-,. Designate G0-G2 Character Set.
case '(':
  // &lt;-- this seems to get all the attention
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.setgLevel" id="apidoc.element.hypernal.setgLevel">
        function <span class="apidocSignatureSpan">hypernal.</span>setgLevel
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setgLevel = function (Terminal) {
  Terminal.prototype.setgLevel = function(g) {
    this.glevel = g;
    this.charset = this.charsets[g];
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // '\t'
case '\t':
  this.x = this.nextStop();
  break;

  // shift out
case '\x0e':
  this.<span class="apidocCodeKeywordSpan">setgLevel</span>(1);
  break;

  // shift in
case '\x0f':
  this.setgLevel(0);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.stops" id="apidoc.element.hypernal.stops">
        function <span class="apidocSignatureSpan">hypernal.</span>stops
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stops = function (Terminal) {

  Terminal.prototype.setupStops = function(i) {
      if (i != null) {
          if (!this.tabs[i]) {
              i = this.prevStop(i);
          }
      } else {
          this.tabs = {};
          i = 0;
      }

      for (; i &lt; this.cols; i += 8) {
          this.tabs[i] = true;
      }
  };

  Terminal.prototype.prevStop = function(x) {
      if (x == null) x = this.x;
      while (!this.tabs[--x] &amp;&amp; x &gt; 0);
      return x &gt;= this.cols ? this.cols - 1 : x &lt; 0 ? 0 : x;
  };

  Terminal.prototype.nextStop = function(x) {
      if (x == null) x = this.x;
      while (!this.tabs[++x] &amp;&amp; x &lt; this.cols);
      return x &gt;= this.cols ? this.cols - 1 : x &lt; 0 ? 0 : x;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term" id="apidoc.element.hypernal.term">
        function <span class="apidocSignatureSpan">hypernal.</span>term
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Terminal(opts) {
  opts = opts || {};
  if (!(this instanceof Terminal)) return new Terminal(opts);

  this.cols = opts.cols || 500;
  this.rows = opts.rows || 100;

  this.ybase = 0;
  this.ydisp = 0;
  this.x = 0;
  this.y = 0;
  this.cursorState = 0;
  this.cursorHidden = false;
  this.convertEol = false;
  this.state = states.normal;
  this.queue = '';
  this.scrollTop = 0;
  this.scrollBottom = this.rows - 1;

  // modes
  this.applicationKeypad = false;
  this.originMode = false;
  this.insertMode = false;
  this.wraparoundMode = false;
  this.normal = null;

  // charset
  this.charset = null;
  this.gcharset = null;
  this.glevel = 0;
  this.charsets = [null];

  // misc
  this.element;
  this.children;
  this.refreshStart;
  this.refreshEnd;
  this.savedX;
  this.savedY;
  this.savedCols;

  // stream
  this.readable = true;
  this.writable = true;

  this.defAttr = (257 &lt;&lt; 9) | 256;
  this.curAttr = this.defAttr;

  this.params = [];
  this.currentParam = 0;
  this.prefix = '';
  this.postfix = '';

  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.blankLine());
  }

  this.tabs;
  this.setupStops();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.toString" id="apidoc.element.hypernal.toString">
        function <span class="apidocSignatureSpan">hypernal.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  function out(r, g, b) {
    colors.push('#' + hex(r) + hex(g) + hex(b));
  }

  function hex(c) {
    c = c.<span class="apidocCodeKeywordSpan">toString</span>(16);
    return c.length &lt; 2 ? '0' + c : c;
  }

  return colors;
})();

// Default BG/FG
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.util" id="apidoc.element.hypernal.util">
        function <span class="apidocSignatureSpan">hypernal.</span>util
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util = function (Terminal) {
  Terminal.prototype.ch = function(cur) {
    return cur ? [this.curAttr, ' '] : [this.defAttr, ' '];
  };

  Terminal.prototype.is = function(term) {
    var name = this.termName || Terminal.termName;
    return (name + '')
      .indexOf(term) === 0;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.write" id="apidoc.element.hypernal.write">
        function <span class="apidocSignatureSpan">hypernal.</span>write
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (Terminal) {

  Terminal.prototype.bell = function() {
    var snd = new Audio("bell.wav"); // buffers automatically when created
    snd.play();

    if (!Terminal.visualBell) return;
    var self = this;
    this.element.style.borderColor = 'white';
    setTimeout(function() {
      self.element.style.borderColor = '';
    }, 10);
    if (Terminal.popOnBell) this.focus();
  };

  Terminal.prototype.write = function(data) {

    data = fixLinefeed(data);
    data = fixIndent(data);

    var l = data.length,
      i = 0,
      cs, ch;

    this.refreshStart = this.y;
    this.refreshEnd = this.y;

    if (this.ybase !== this.ydisp) {
      this.ydisp = this.ybase;
      this.maxRange();
    }

    // this.log(JSON.stringify(data.replace(/\x1b/g, '^[')));

    for (; i &lt; l; i++) {
      ch = data[i];
      switch (this.state) {
      case states.normal:
        switch (ch) {
          // '\0'
          // case '\0':
          // break;

          // '\a'
        case '\x07':
          this.bell();
          break;

          // '\n', '\v', '\f'
        case '\n':
        case '\x0b':
        case '\x0c':
          if (this.convertEol) {
            this.x = 0;
          }
          this.y++;
          break;

          // '\r'
        case '\r':
          this.x = 0;
          break;

          // '\b'
        case '\x08':
          if (this.x &gt; 0) {
            this.x--;
          }
          break;

          // '\t'
        case '\t':
          this.x = this.nextStop();
          break;

          // shift out
        case '\x0e':
          this.setgLevel(1);
          break;

          // shift in
        case '\x0f':
          this.setgLevel(0);
          break;

          // '\e'
        case '\x1b':
          this.state = states.escaped;
          break;

        default:
          // ' '
          if (ch &gt;= ' ') {
            if (this.charset &amp;&amp; this.charset[ch]) {
              ch = this.charset[ch];
            }
            if (this.x &gt;= this.cols) {
              this.x = 0;
              this.y++;
            }

            // FIXME: this prevents errors from being thrown, but needs a proper fix
            if (this.lines[this.y + this.ybase])
              this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];

            this.x++;
            this.updateRange(this.y);
          }
          break;
        }
        break;
      case states.escaped:
        switch (ch) {
          // ESC [ Control Sequence Introducer ( CSI is 0x9b).
        case '[':
          this.params = [];
          this.currentParam = 0;
          this.state = states.csi;
          break;

          // ESC ] Operating System Command ( OSC is 0x9d).
        case ']':
          this.params = [];
          this.currentParam = 0;
          this.state = states.osc;
          break;

          // ESC P Device Control String ( DCS is 0x90).
        case 'P':
          this.params = [];
          this.currentParam = 0;
          this.state = states.dcs;
          break;

          // ESC _ Application Program Command ( APC is 0x9f).
        case '_':
          this.stateType = 'apc';
          this.state = states.ignore;
          break;

          // ESC ^ Privacy Message ( PM is 0x9e).
        case '^':
          this.stateType = 'pm';
          this.state = states.ignore;
          break;

          // ESC c Full Reset (RIS).
        case 'c':
          this.reset();
          break;

          // ESC E Next Line ( NEL is 0x85).
          // ESC D Index ( IND is 0x84).
        case 'E':
          this.x = 0;
          break;
        case 'D':
          this.index();
          break;

          // ESC M Reverse Index ( RI is 0x8d).
        case 'M':
          this.reverseIndex();
          break;

          // ESC % Select default/utf-8 character set.
          // @ = default, G = utf-8
        case '%':
          //this.charset = null;
          this.setgLevel(0);
          this.setgCharset(0, Terminal.charsets.US);
          this.state = states.normal;
          i++;
          break;

          // ESC (,),*,+,-,. Designate ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var difflet = require('difflet')({
    indent : 2
  , comma : 'first'
  , comment: true
  });

var diff = difflet.compare({ a : [1, 2, 3 ], c : 5 }, { a : [1, 2, 3, 4 ], b : 4 });
term.<span class="apidocCodeKeywordSpan">write</span>(diff);
```

**browserify-build.js**
```js
require('browserify')()
.require(require.resolve('./main.js'), { entry: true })
.bundle()
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.blankLine" id="apidoc.module.hypernal.blankLine">module hypernal.blankLine</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.blankLine.blankLine" id="apidoc.element.hypernal.blankLine.blankLine">
        function <span class="apidocSignatureSpan">hypernal.</span>blankLine
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blankLine = function (Terminal) {
  Terminal.prototype.blankLine = function(cur) {
    var attr = cur ? this.curAttr : this.defAttr;

    var ch = [attr, ' '],
      line = [],
      i = 0;

    for (; i &lt; this.cols; i++) {
      line[i] = ch;
    }

    return line;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...



'use strict';

function addRowsOnDemand () {
  while (this.y &gt;= this.rows) {
    this.lines.push(this.<span class="apidocCodeKeywordSpan">blankLine</span>());
    var div = document.createElement('div');
    this.element.appendChild(div);
    this.children.push(div);

    this.rows++;
  }
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.charsets" id="apidoc.module.hypernal.charsets">module hypernal.charsets</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.charsets.charsets" id="apidoc.element.hypernal.charsets.charsets">
        function <span class="apidocSignatureSpan">hypernal.</span>charsets
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charsets = function (Terminal) {

Terminal.charsets = {};

  // DEC Special Character and Line Drawing Set.
  // http://vt100.net/docs/vt102-ug/table5-13.html
  // A lot of curses apps use this if they see TERM=xterm.
  // testing: echo -e '\e(0a\e(B'
  // The xterm output sometimes seems to conflict with the
  // reference above. xterm seems in line with the reference
  // when running vttest however.
  // The table below now uses xterm's output from vttest.
  Terminal.charsets.SCLD = { // (0
    '`': '\u25c6', // 'â—†'
    'a': '\u2592', // 'â–’'
    'b': '\u0009', // '\t'
    'c': '\u000c', // '\f'
    'd': '\u000d', // '\r'
    'e': '\u000a', // '\n'
    'f': '\u00b0', // 'Â°'
    'g': '\u00b1', // 'Â±'
    'h': '\u2424', // '\u2424' (NL)
    'i': '\u000b', // '\v'
    'j': '\u2518', // 'â”˜'
    'k': '\u2510', // 'â”'
    'l': '\u250c', // 'â”Œ'
    'm': '\u2514', // 'â””'
    'n': '\u253c', // 'â”¼'
    'o': '\u23ba', // 'âŽº'
    'p': '\u23bb', // 'âŽ»'
    'q': '\u2500', // 'â”€'
    'r': '\u23bc', // 'âŽ¼'
    's': '\u23bd', // 'âŽ½'
    't': '\u251c', // 'â”œ'
    'u': '\u2524', // 'â”¤'
    'v': '\u2534', // 'â”´'
    'w': '\u252c', // 'â”¬'
    'x': '\u2502', // 'â”‚'
    'y': '\u2264', // 'â‰¤'
    'z': '\u2265', // 'â‰¥'
    '{': '\u03c0', // 'Ï€'
    '|': '\u2260', // 'â‰&nbsp;'
    '}': '\u00a3', // 'Â£'
    '~': '\u00b7' // 'Â·'
  };

  Terminal.charsets.UK = null; // (A
  Terminal.charsets.US = null; // (B (USASCII)
  Terminal.charsets.Dutch = null; // (4
  Terminal.charsets.Finnish = null; // (C or (5
  Terminal.charsets.French = null; // (R
  Terminal.charsets.FrenchCanadian = null; // (Q
  Terminal.charsets.German = null; // (K
  Terminal.charsets.Italian = null; // (Y
  Terminal.charsets.NorwegianDanish = null; // (E or (6
  Terminal.charsets.Spanish = null; // (Z
  Terminal.charsets.Swedish = null; // (H or (7
  Terminal.charsets.Swiss = null; // (=
  Terminal.charsets.ISOLatin = null; // /A

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.colors" id="apidoc.module.hypernal.colors">module hypernal.colors</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.colors.colors" id="apidoc.element.hypernal.colors.colors">
        function <span class="apidocSignatureSpan">hypernal.</span>colors
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">colors = function (Terminal) {

  // Colors 0-15
  Terminal.colors = [
  // dark:
  '#2e3436', '#cc0000', '#4e9a06', '#c4a000', '#3465a4', '#75507b', '#06989a', '#d3d7cf',
  // bright:
  '#555753', '#ef2929', '#8ae234', '#fce94f', '#729fcf', '#ad7fa8', '#34e2e2', '#eeeeec'];

  // Colors 16-255
  // Much thanks to TooTallNate for writing this.
  Terminal.colors = (function() {
    var colors = Terminal.colors,
      r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff],
      i;

    // 16-231
    i = 0;
    for (; i &lt; 216; i++) {
      out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);
    }

    // 232-255 (grey)
    i = 0;
    for (; i &lt; 24; i++) {
      r = 8 + i * 10;
      out(r, r, r);
    }

    function out(r, g, b) {
      colors.push('#' + hex(r) + hex(g) + hex(b));
    }

    function hex(c) {
      c = c.toString(16);
      return c.length &lt; 2 ? '0' + c : c;
    }

    return colors;
  })();

  // Default BG/FG
  Terminal.defaultColors = {
    bg: '#000000',
    fg: '#f0f0f0'
  };

  Terminal.colors[256] = Terminal.defaultColors.bg;
  Terminal.colors[257] = Terminal.defaultColors.fg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.cursor" id="apidoc.module.hypernal.cursor">module hypernal.cursor</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.cursor.cursor" id="apidoc.element.hypernal.cursor.cursor">
        function <span class="apidocSignatureSpan">hypernal.</span>cursor
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursor = function (Terminal) {
  Terminal.prototype.cursorBlink = function() {
    if (Terminal.focus !== this) return;
    this.cursorState ^= 1;
    this.refresh(this.y, this.y);
  };

  Terminal.prototype.showCursor = function() {
    if (!this.cursorState) {
      this.cursorState = 1;
      this.refresh(this.y, this.y);
    } else {
      // Temporarily disabled:
      // this.refreshBlink();
    }
  };

  Terminal.prototype.startBlink = function() {
    if (!Terminal.cursorBlink) return;
    var self = this;
    this._blinker = function() {
      self.cursorBlink();
    };
    this._blink = setInterval(this._blinker, 500);
  };

  Terminal.prototype.refreshBlink = function() {
    if (!Terminal.cursorBlink) return;
    clearInterval(this._blink);
    this._blink = setInterval(this._blinker, 500);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.debug" id="apidoc.module.hypernal.debug">module hypernal.debug</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.debug.debug" id="apidoc.element.hypernal.debug.debug">
        function <span class="apidocSignatureSpan">hypernal.</span>debug
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (Terminal) {
  Terminal.prototype.log = function() {
    if (!Terminal.debug) return;
    if (!window.console || !window.console.log) return;
    var args = Array.prototype.slice.call(arguments);
    window.console.log.apply(window.console, args);
  };

  Terminal.prototype.error = function() {
    if (!Terminal.debug) return;
    if (!window.console || !window.console.error) return;
    var args = Array.prototype.slice.call(arguments);
    window.console.error.apply(window.console, args);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.destroy" id="apidoc.module.hypernal.destroy">module hypernal.destroy</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.destroy.destroy" id="apidoc.element.hypernal.destroy.destroy">
        function <span class="apidocSignatureSpan">hypernal.</span>destroy
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function (Terminal) {
  Terminal.prototype.destroy = function() {
    this.readable = false;
    this.writable = false;
    this._events = {};
    this.handler = function() {};
    this.write = function() {};
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.erase" id="apidoc.module.hypernal.erase">module hypernal.erase</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.erase.erase" id="apidoc.element.hypernal.erase.erase">
        function <span class="apidocSignatureSpan">hypernal.</span>erase
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">erase = function (Terminal) {
  Terminal.prototype.eraseRight = function(x, y) {
    var line = this.lines[this.ybase + y],
      ch = [this.curAttr, ' ']; // xterm

    for (; x &lt; this.cols; x++) {
      line[x] = ch;
    }

    this.updateRange(y);
  };

  Terminal.prototype.eraseLeft = function(x, y) {
    var line = this.lines[this.ybase + y],
      ch = [this.curAttr, ' ']; // xterm

    x++;
    while (x--) line[x] = ch;

    this.updateRange(y);
  };

  Terminal.prototype.eraseLine = function(y) {
    this.eraseRight(0, y);
  };

  // CSI Ps J Erase in Display (ED).
  // Ps = 0 -&gt; Erase Below (default).
  // Ps = 1 -&gt; Erase Above.
  // Ps = 2 -&gt; Erase All.
  // Ps = 3 -&gt; Erase Saved Lines (xterm).
  // CSI ? Ps J
  // Erase in Display (DECSED).
  // Ps = 0 -&gt; Selective Erase Below (default).
  // Ps = 1 -&gt; Selective Erase Above.
  // Ps = 2 -&gt; Selective Erase All.
  Terminal.prototype.eraseInDisplay = function(params) {
      var j;
      switch (params[0]) {
      case 0:
          this.eraseRight(this.x, this.y);
          j = this.y + 1;
          for (; j &lt; this.rows; j++) {
              this.eraseLine(j);
          }
          break;
      case 1:
          this.eraseLeft(this.x, this.y);
          j = this.y;
          while (j--) {
              this.eraseLine(j);
          }
          break;
      case 2:
          j = this.rows;
          while (j--) this.eraseLine(j);
          break;
      case 3:
          ; // no saved lines
          break;
      }
  };

  // CSI Ps K Erase in Line (EL).
  // Ps = 0 -&gt; Erase to Right (default).
  // Ps = 1 -&gt; Erase to Left.
  // Ps = 2 -&gt; Erase All.
  // CSI ? Ps K
  // Erase in Line (DECSEL).
  // Ps = 0 -&gt; Selective Erase to Right (default).
  // Ps = 1 -&gt; Selective Erase to Left.
  // Ps = 2 -&gt; Selective Erase All.
  Terminal.prototype.eraseInLine = function(params) {
      switch (params[0]) {
      case 0:
          this.eraseRight(this.x, this.y);
          break;
      case 1:
          this.eraseLeft(this.x, this.y);
          break;
      case 2:
          this.eraseLine(this.y);
          break;
      }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.open" id="apidoc.module.hypernal.open">module hypernal.open</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.open.open" id="apidoc.element.hypernal.open.open">
        function <span class="apidocSignatureSpan">hypernal.</span>open
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function (Terminal) {
<span class="apidocCodeCommentSpan">  /**
  * Open Terminal
  */
</span>
  Terminal.prototype.open = function() {
    var self = this,
      i = 0,
      div;

    this.element = document.createElement('div');
    this.element.className = 'terminal';
    this.children = [];

    for (; i &lt; this.rows; i++) {
      div = document.createElement('div');
      this.element.appendChild(div);
      this.children.push(div);
    }

    this.refresh(0, this.rows - 1);

    // XXX - hack, move this somewhere else.
    if (Terminal.brokenBold === null) {
      Terminal.brokenBold = isBoldBroken();
    }

    // sync default bg/fg colors
    this.element.style.backgroundColor = Terminal.defaultColors.bg;
    this.element.style.color = Terminal.defaultColors.fg;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function scroll(elem) {
  if (!elem) return;
  elem.scrollTop = elem.scrollHeight;
}

module.exports = function (opts) {
  var term = new Terminal(opts);
  term.<span class="apidocCodeKeywordSpan">open</span>();

  var hypernal = through(term.write.bind(term));
  hypernal.appendTo = function (parent) {
if (typeof parent === 'string') parent = document.querySelector(parent);

parent.appendChild(term.element);
style(parent);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.options" id="apidoc.module.hypernal.options">module hypernal.options</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.options.options" id="apidoc.element.hypernal.options.options">
        function <span class="apidocSignatureSpan">hypernal.</span>options
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">options = function (Terminal) {
  Terminal.termName        =  'xterm';
  Terminal.geometry        =  [80, 24];
  Terminal.cursorBlink     =  true;
  Terminal.visualBell      =  false;
  Terminal.popOnBell       =  false;
  Terminal.scrollback      =  1000;
  Terminal.screenKeys      =  false;
  Terminal.programFeatures =  false;
  Terminal.debug           =  false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.range" id="apidoc.module.hypernal.range">module hypernal.range</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.range.range" id="apidoc.element.hypernal.range.range">
        function <span class="apidocSignatureSpan">hypernal.</span>range
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">range = function (Terminal) {
  Terminal.prototype.updateRange = function(y) {
    if (y &lt; this.refreshStart) this.refreshStart = y;
    if (y &gt; this.refreshEnd) this.refreshEnd = y;
    addRowsOnDemand.bind(this)();
  };

  Terminal.prototype.maxRange = function() {
    this.refreshStart = 0;
    this.refreshEnd = this.rows - 1;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.refresh" id="apidoc.module.hypernal.refresh">module hypernal.refresh</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.refresh.refresh" id="apidoc.element.hypernal.refresh.refresh">
        function <span class="apidocSignatureSpan">hypernal.</span>refresh
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">refresh = function (Terminal) {

<span class="apidocCodeCommentSpan">  /**
  * Rendering Engine
  */
</span>
  // In the screen buffer, each character
  // is stored as a an array with a character
  // and a 32-bit integer.
  // First value: a utf-16 character.
  // Second value:
  // Next 9 bits: background color (0-511).
  // Next 9 bits: foreground color (0-511).
  // Next 14 bits: a mask for misc. flags:
  // 1=bold, 2=underline, 4=inverse

  Terminal.prototype.refresh = function(start, end) {
    var x, y, i, line, out, ch, width, data, attr, fgColor, bgColor, flags, row, parent;


    width = this.cols;
    y = start;

    for (; y &lt;= end; y++) {
      row = y + this.ydisp;

      line = this.lines[row];
      if (!line) {
        // simple solution in case we have more lines than rows
        // could be improved to instead remove first line (and related html element)
        return this.reset();
      }

      out = '';

      if (y === this.y &amp;&amp; this.cursorState &amp;&amp; this.ydisp === this.ybase &amp;&amp; !this.cursorHidden) {
        x = this.x;
      } else {
        x = -1;
      }

      attr = this.defAttr;
      i = 0;

      for (; i &lt; width; i++) {
        data = line[i][0];
        ch = line[i][1];

        if (i === x) data = -1;

        if (data !== attr) {
          if (attr !== this.defAttr) {
            out += '&lt;/span&gt;';
          }
          if (data !== this.defAttr) {
            if (data === -1) {
              out += '&lt;span class="reverse-video"&gt;';
            } else {
              out += '&lt;span style="';

              bgColor = data &amp; 0x1ff;
              fgColor = (data &gt;&gt; 9) &amp; 0x1ff;
              flags = data &gt;&gt; 18;

              if (flags &amp; 1) {
                if (!Terminal.brokenBold) {
                  out += 'font-weight:bold;';
                }
                // see: XTerm*boldColors
                if (fgColor &lt; 8) fgColor += 8;
              }

              if (flags &amp; 2) {
                out += 'text-decoration:underline;';
              }

              if (bgColor !== 256) {
                out += 'background-color:' + Terminal.colors[bgColor] + ';';
              }

              if (fgColor !== 257) {
                out += 'color:' + Terminal.colors[fgColor] + ';';
              }

              out += '"&gt;';
            }
          }
        }

        switch (ch) {
        case '&amp;':
          out += '&amp;';
          break;
        case '&lt;':
          out += '&lt;';
          break;
        case '&gt;':
          out += '&gt;';
          break;
        default:
          if (ch &lt;= ' ') {
            out += ' ';
          } else {
            out += ch;
          }
          break;
        }

        attr = data;
      }

      if (attr !== this.defAttr) {
        out += '&lt;/span&gt;';
      }

      this.children[y].innerHTML = out;
    }

    if (parent) parent.appendChild(this.element);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

'use strict';

module.exports = function (Terminal) {
Terminal.prototype.cursorBlink = function() {
  if (Terminal.focus !== this) return;
  this.cursorState ^= 1;
  this.<span class="apidocCodeKeywordSpan">refresh</span>(this.y, this.y);
};

Terminal.prototype.showCursor = function() {
  if (!this.cursorState) {
    this.cursorState = 1;
    this.refresh(this.y, this.y);
  } else {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.scrollDisp" id="apidoc.module.hypernal.scrollDisp">module hypernal.scrollDisp</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.scrollDisp.scrollDisp" id="apidoc.element.hypernal.scrollDisp.scrollDisp">
        function <span class="apidocSignatureSpan">hypernal.</span>scrollDisp
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">scrollDisp = function (Terminal) {
  Terminal.prototype.scrollDisp = function(disp) {
    this.ydisp += disp;

    if (this.ydisp &gt; this.ybase) {
      this.ydisp = this.ybase;
    } else if (this.ydisp &lt; 0) {
      this.ydisp = 0;
    }

    this.refresh(0, this.rows - 1);
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.setgCharset" id="apidoc.module.hypernal.setgCharset">module hypernal.setgCharset</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.setgCharset.setgCharset" id="apidoc.element.hypernal.setgCharset.setgCharset">
        function <span class="apidocSignatureSpan">hypernal.</span>setgCharset
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setgCharset = function (Terminal) {
  Terminal.prototype.setgCharset = function(g, charset) {
    this.charsets[g] = charset;
    if (this.glevel === g) {
      this.charset = charset;
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  break;

  // ESC % Select default/utf-8 character set.
  // @ = default, G = utf-8
case '%':
  //this.charset = null;
  this.setgLevel(0);
  this.<span class="apidocCodeKeywordSpan">setgCharset</span>(0, Terminal.charsets.US);
  this.state = states.normal;
  i++;
  break;

  // ESC (,),*,+,-,. Designate G0-G2 Character Set.
case '(':
  // &lt;-- this seems to get all the attention
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.setgLevel" id="apidoc.module.hypernal.setgLevel">module hypernal.setgLevel</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.setgLevel.setgLevel" id="apidoc.element.hypernal.setgLevel.setgLevel">
        function <span class="apidocSignatureSpan">hypernal.</span>setgLevel
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setgLevel = function (Terminal) {
  Terminal.prototype.setgLevel = function(g) {
    this.glevel = g;
    this.charset = this.charsets[g];
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // '\t'
case '\t':
  this.x = this.nextStop();
  break;

  // shift out
case '\x0e':
  this.<span class="apidocCodeKeywordSpan">setgLevel</span>(1);
  break;

  // shift in
case '\x0f':
  this.setgLevel(0);
  break;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.stops" id="apidoc.module.hypernal.stops">module hypernal.stops</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.stops.stops" id="apidoc.element.hypernal.stops.stops">
        function <span class="apidocSignatureSpan">hypernal.</span>stops
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stops = function (Terminal) {

  Terminal.prototype.setupStops = function(i) {
      if (i != null) {
          if (!this.tabs[i]) {
              i = this.prevStop(i);
          }
      } else {
          this.tabs = {};
          i = 0;
      }

      for (; i &lt; this.cols; i += 8) {
          this.tabs[i] = true;
      }
  };

  Terminal.prototype.prevStop = function(x) {
      if (x == null) x = this.x;
      while (!this.tabs[--x] &amp;&amp; x &gt; 0);
      return x &gt;= this.cols ? this.cols - 1 : x &lt; 0 ? 0 : x;
  };

  Terminal.prototype.nextStop = function(x) {
      if (x == null) x = this.x;
      while (!this.tabs[++x] &amp;&amp; x &lt; this.cols);
      return x &gt;= this.cols ? this.cols - 1 : x &lt; 0 ? 0 : x;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.term" id="apidoc.module.hypernal.term">module hypernal.term</a></h1>














    <h2>
        <a href="#apidoc.element.hypernal.term.term" id="apidoc.element.hypernal.term.term">
        function <span class="apidocSignatureSpan">hypernal.</span>term
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Terminal(opts) {
  opts = opts || {};
  if (!(this instanceof Terminal)) return new Terminal(opts);

  this.cols = opts.cols || 500;
  this.rows = opts.rows || 100;

  this.ybase = 0;
  this.ydisp = 0;
  this.x = 0;
  this.y = 0;
  this.cursorState = 0;
  this.cursorHidden = false;
  this.convertEol = false;
  this.state = states.normal;
  this.queue = '';
  this.scrollTop = 0;
  this.scrollBottom = this.rows - 1;

  // modes
  this.applicationKeypad = false;
  this.originMode = false;
  this.insertMode = false;
  this.wraparoundMode = false;
  this.normal = null;

  // charset
  this.charset = null;
  this.gcharset = null;
  this.glevel = 0;
  this.charsets = [null];

  // misc
  this.element;
  this.children;
  this.refreshStart;
  this.refreshEnd;
  this.savedX;
  this.savedY;
  this.savedCols;

  // stream
  this.readable = true;
  this.writable = true;

  this.defAttr = (257 &lt;&lt; 9) | 256;
  this.curAttr = this.defAttr;

  this.params = [];
  this.currentParam = 0;
  this.prefix = '';
  this.postfix = '';

  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.blankLine());
  }

  this.tabs;
  this.setupStops();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.term.prototype" id="apidoc.module.hypernal.term.prototype">module hypernal.term.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.HPositionRelative" id="apidoc.element.hypernal.term.prototype.HPositionRelative">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HPositionRelative
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HPositionRelative = function (params) {
  var param = params[0];
  if (param &lt; 1) param = 1;
  this.x += param;
  if (this.x &gt;= this.cols) {
    this.x = this.cols - 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case '`':
  this.charPosAbsolute(this.params);
  break;

  // 141 61 a * HPR -
  // Horizontal Position Relative
case 'a':
  this.<span class="apidocCodeKeywordSpan">HPositionRelative</span>(this.params);
  break;

  // CSI P s c
  // Send Device Attributes (Primary DA).
  // CSI &gt; P s c
  // Send Device Attributes (Secondary DA)
case 'c':
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.HVPosition" id="apidoc.element.hypernal.term.prototype.HVPosition">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HVPosition
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HVPosition = function (params) {
    if (params[0] &lt; 1) params[0] = 1;
    if (params[1] &lt; 1) params[1] = 1;

    this.y = params[0] - 1;
    if (this.y &gt;= this.rows) {
        this.y = this.rows - 1;
    }

    this.x = params[1] - 1;
    if (this.x &gt;= this.cols) {
        this.x = this.cols - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.VPositionRelative(this.params);
  break;

  // CSI Ps ; Ps f
  // Horizontal and Vertical Position [row;column] (default =
  // [1,1]) (HVP).
case 'f':
  this.<span class="apidocCodeKeywordSpan">HVPosition</span>(this.params);
  break;

  // CSI Pm h Set Mode (SM).
  // CSI ? Pm h - mouse escape codes, cursor escape codes
case 'h':
  //- this.setMode(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.VPositionRelative" id="apidoc.element.hypernal.term.prototype.VPositionRelative">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>VPositionRelative
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">VPositionRelative = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.y += param;
    if (this.y &gt;= this.rows) {
        this.y = this.rows - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Line Position Absolute [row] (default = [1,column]) (VPA).
case 'd':
  this.linePosAbsolute(this.params);
  break;

  // 145 65 e * VPR - Vertical Position Relative
case 'e':
  this.<span class="apidocCodeKeywordSpan">VPositionRelative</span>(this.params);
  break;

  // CSI Ps ; Ps f
  // Horizontal and Vertical Position [row;column] (default =
  // [1,1]) (HVP).
case 'f':
  this.HVPosition(this.params);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.bell" id="apidoc.element.hypernal.term.prototype.bell">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>bell
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bell = function () {
  var snd = new Audio("bell.wav"); // buffers automatically when created
  snd.play();

  if (!Terminal.visualBell) return;
  var self = this;
  this.element.style.borderColor = 'white';
  setTimeout(function() {
    self.element.style.borderColor = '';
  }, 10);
  if (Terminal.popOnBell) this.focus();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
switch (ch) {
  // '\0'
  // case '\0':
  // break;

  // '\a'
case '\x07':
  this.<span class="apidocCodeKeywordSpan">bell</span>();
  break;

  // '\n', '\v', '\f'
case '\n':
case '\x0b':
case '\x0c':
  if (this.convertEol) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.blankLine" id="apidoc.element.hypernal.term.prototype.blankLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>blankLine
        <span class="apidocSignatureSpan">(cur)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blankLine = function (cur) {
  var attr = cur ? this.curAttr : this.defAttr;

  var ch = [attr, ' '],
    line = [],
    i = 0;

  for (; i &lt; this.cols; i++) {
    line[i] = ch;
  }

  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...



'use strict';

function addRowsOnDemand () {
  while (this.y &gt;= this.rows) {
    this.lines.push(this.<span class="apidocCodeKeywordSpan">blankLine</span>());
    var div = document.createElement('div');
    this.element.appendChild(div);
    this.children.push(div);

    this.rows++;
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.ch" id="apidoc.element.hypernal.term.prototype.ch">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>ch
        <span class="apidocSignatureSpan">(cur)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ch = function (cur) {
  return cur ? [this.curAttr, ' '] : [this.defAttr, ' '];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.charAttributes" id="apidoc.element.hypernal.term.prototype.charAttributes">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charAttributes
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charAttributes = function (params) {
  var l = params.length,
    i = 0,
    bg, fg, p;

  for (; i &lt; l; i++) {
    p = params[i];
    if (p &gt;= 30 &amp;&amp; p &lt;= 37) {
      // fg color 8
      this.curAttr = (this.curAttr &amp; ~ (0x1ff &lt;&lt; 9)) | ((p - 30) &lt;&lt; 9);
    } else if (p &gt;= 40 &amp;&amp; p &lt;= 47) {
      // bg color 8
      this.curAttr = (this.curAttr &amp; ~0x1ff) | (p - 40);
    } else if (p &gt;= 90 &amp;&amp; p &lt;= 97) {
      // fg color 16
      p += 8;
      this.curAttr = (this.curAttr &amp; ~ (0x1ff &lt;&lt; 9)) | ((p - 90) &lt;&lt; 9);
    } else if (p &gt;= 100 &amp;&amp; p &lt;= 107) {
      // bg color 16
      p += 8;
      this.curAttr = (this.curAttr &amp; ~0x1ff) | (p - 100);
    } else if (p === 0) {
      // default
      this.curAttr = this.defAttr;
    } else if (p === 1) {
      // bold text
      this.curAttr = this.curAttr | (1 &lt;&lt; 18);
    } else if (p === 4) {
      // underlined text
      this.curAttr = this.curAttr | (2 &lt;&lt; 18);
    } else if (p === 7 || p === 27) {
      // inverse and positive
      // test with: echo -e '\e[31m\e[42mhello\e[7mworld\e[27mhi\e[m'
      if (p === 7) {
        if ((this.curAttr &gt;&gt; 18) &amp; 4) continue;
        this.curAttr = this.curAttr | (4 &lt;&lt; 18);
      } else if (p === 27) {
        if (~ (this.curAttr &gt;&gt; 18) &amp; 4) continue;
        this.curAttr = this.curAttr &amp; ~ (4 &lt;&lt; 18);
      }

      bg = this.curAttr &amp; 0x1ff;
      fg = (this.curAttr &gt;&gt; 9) &amp; 0x1ff;

      this.curAttr = (this.curAttr &amp; ~0x3ffff) | ((bg &lt;&lt; 9) | fg);
    } else if (p === 22) {
      // not bold
      this.curAttr = this.curAttr &amp; ~ (1 &lt;&lt; 18);
    } else if (p === 24) {
      // not underlined
      this.curAttr = this.curAttr &amp; ~ (2 &lt;&lt; 18);
    } else if (p === 39) {
      // reset fg
      this.curAttr = this.curAttr &amp; ~ (0x1ff &lt;&lt; 9);
      this.curAttr = this.curAttr | (((this.defAttr &gt;&gt; 9) &amp; 0x1ff) &lt;&lt; 9);
    } else if (p === 49) {
      // reset bg
      this.curAttr = this.curAttr &amp; ~0x1ff;
      this.curAttr = this.curAttr | (this.defAttr &amp; 0x1ff);
    } else if (p === 38) {
      // fg color 256
      if (params[i + 1] !== 5) continue;
      i += 2;
      p = params[i] &amp; 0xff;
      // convert 88 colors to 256
      // if (this.is('rxvt-unicode') &amp;&amp; p &lt; 88) p = p * 2.9090 | 0;
      this.curAttr = (this.curAttr &amp; ~ (0x1ff &lt;&lt; 9)) | (p &lt;&lt; 9);
    } else if (p === 48) {
      // bg color 256
      if (params[i + 1] !== 5) continue;
      i += 2;
      p = params[i] &amp; 0xff;
      // convert 88 colors to 256
      // if (this.is('rxvt-unicode') &amp;&amp; p &lt; 88) p = p * 2.9090 | 0;
      this.curAttr = (this.curAttr &amp; ~0x1ff) | p;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps K Erase in Line (EL).
case 'K':
  this.eraseInLine(this.params);
  break;

  // CSI Pm m Character Attributes (SGR).
case 'm':
  this.<span class="apidocCodeKeywordSpan">charAttributes</span>(this.params);
  break;

  // CSI Ps n Device Status Report (DSR).
case 'n':
  this.deviceStatus(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.charPosAbsolute" id="apidoc.element.hypernal.term.prototype.charPosAbsolute">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charPosAbsolute
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charPosAbsolute = function (params) {
  var param = params[0];
  if (param &lt; 1) param = 1;
  this.x = param - 1;
  if (this.x &gt;= this.cols) {
    this.x = this.cols - 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'X':
  this.eraseChars(this.params);
  break;

  // CSI Pm ` Character Position Absolute
  // [column] (default = [row,1]) (HPA).
case '`':
  this.<span class="apidocCodeKeywordSpan">charPosAbsolute</span>(this.params);
  break;

  // 141 61 a * HPR -
  // Horizontal Position Relative
case 'a':
  this.HPositionRelative(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorBackward" id="apidoc.element.hypernal.term.prototype.cursorBackward">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackward
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorBackward = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.x -= param;
    if (this.x &lt; 0) this.x = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'C':
  this.cursorForward(this.params);
  break;

  // CSI Ps D
  // Cursor Backward Ps Times (default = 1) (CUB).
case 'D':
  this.<span class="apidocCodeKeywordSpan">cursorBackward</span>(this.params);
  break;

  // CSI Ps ; Ps H
  // Cursor Position [row;column] (default = [1,1]) (CUP).
case 'H':
  this.cursorPos(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorBackwardTab" id="apidoc.element.hypernal.term.prototype.cursorBackwardTab">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackwardTab
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorBackwardTab = function (params) {
    var param = params[0] || 1;
    while (param--) {
        this.x = this.prevStop();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    //- this.scrollDown(this.params);
  }
  break;

  // CSI Ps Z
  // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).
case 'Z':
  this.<span class="apidocCodeKeywordSpan">cursorBackwardTab</span>(this.params);
  break;

  // CSI Ps b Repeat the preceding graphic character Ps times (REP).
case 'b':
  this.repeatPrecedingCharacter(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorCharAbsolute" id="apidoc.element.hypernal.term.prototype.cursorCharAbsolute">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorCharAbsolute
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorCharAbsolute = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.x = param - 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'F':
  this.cursorPrecedingLine(this.params);
  break;

  // CSI Ps G
  // Cursor Character Absolute [column] (default = [row,1]) (CHA).
case 'G':
  this.<span class="apidocCodeKeywordSpan">cursorCharAbsolute</span>(this.params);
  break;

  // CSI Ps L
  // Insert Ps Line(s) (default = 1) (IL).
case 'L':
  this.insertLines(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorDown" id="apidoc.element.hypernal.term.prototype.cursorDown">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorDown
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorDown = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.y += param;
    if (this.y &gt;= this.rows) {
        this.y = this.rows - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'A':
  this.cursorUp(this.params);
  break;

  // CSI Ps B
  // Cursor Down Ps Times (default = 1) (CUD).
case 'B':
  this.<span class="apidocCodeKeywordSpan">cursorDown</span>(this.params);
  break;

  // CSI Ps C
  // Cursor Forward Ps Times (default = 1) (CUF).
case 'C':
  this.cursorForward(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorForward" id="apidoc.element.hypernal.term.prototype.cursorForward">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForward
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorForward = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.x += param;
    if (this.x &gt;= this.cols) {
        this.x = this.cols - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'B':
  this.cursorDown(this.params);
  break;

  // CSI Ps C
  // Cursor Forward Ps Times (default = 1) (CUF).
case 'C':
  this.<span class="apidocCodeKeywordSpan">cursorForward</span>(this.params);
  break;

  // CSI Ps D
  // Cursor Backward Ps Times (default = 1) (CUB).
case 'D':
  this.cursorBackward(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorForwardTab" id="apidoc.element.hypernal.term.prototype.cursorForwardTab">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForwardTab
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorForwardTab = function (params) {
    var param = params[0] || 1;
    while (param--) {
        this.x = this.nextStop();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  /**
  * Lesser Used
  */

  // CSI Ps I
  // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).
case 'I':
  this.<span class="apidocCodeKeywordSpan">cursorForwardTab</span>(this.params);
  break;

  // CSI Ps S Scroll up Ps lines (default = 1) (SU).
case 'S':
  //- this.scrollUp(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorNextLine" id="apidoc.element.hypernal.term.prototype.cursorNextLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorNextLine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorNextLine = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.y += param;
    if (this.y &gt;= this.rows) {
        this.y = this.rows - 1;
    }
    this.x = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case '@':
  this.insertChars(this.params);
  break;

  // CSI Ps E
  // Cursor Next Line Ps Times (default = 1) (CNL).
case 'E':
  this.<span class="apidocCodeKeywordSpan">cursorNextLine</span>(this.params);
  break;

  // CSI Ps F
  // Cursor Preceding Line Ps Times (default = 1) (CNL).
case 'F':
  this.cursorPrecedingLine(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorPos" id="apidoc.element.hypernal.term.prototype.cursorPos">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPos
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorPos = function (params) {
    var row, col;

    row = params[0] - 1;

    if (params.length &gt;= 2) {
        col = params[1] - 1;
    } else {
        col = 0;
    }

    if (row &lt; 0) {
        row = 0;
    } else if (row &gt;= this.rows) {
        row = this.rows - 1;
    }

    if (col &lt; 0) {
        col = 0;
    } else if (col &gt;= this.cols) {
        col = this.cols - 1;
    }

    this.x = col;
    this.y = row;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'D':
  this.cursorBackward(this.params);
  break;

  // CSI Ps ; Ps H
  // Cursor Position [row;column] (default = [1,1]) (CUP).
case 'H':
  this.<span class="apidocCodeKeywordSpan">cursorPos</span>(this.params);
  break;

  // CSI Ps J Erase in Display (ED).
case 'J':
  this.eraseInDisplay(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorPrecedingLine" id="apidoc.element.hypernal.term.prototype.cursorPrecedingLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPrecedingLine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorPrecedingLine = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.y -= param;
    if (this.y &lt; 0) this.y = 0;
    this.x = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'E':
  this.cursorNextLine(this.params);
  break;

  // CSI Ps F
  // Cursor Preceding Line Ps Times (default = 1) (CNL).
case 'F':
  this.<span class="apidocCodeKeywordSpan">cursorPrecedingLine</span>(this.params);
  break;

  // CSI Ps G
  // Cursor Character Absolute [column] (default = [row,1]) (CHA).
case 'G':
  this.cursorCharAbsolute(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorUp" id="apidoc.element.hypernal.term.prototype.cursorUp">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorUp
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorUp = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.y -= param;
    if (this.y &lt; 0) this.y = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this.state = states.normal;

switch (ch) {
  // CSI Ps A
  // Cursor Up Ps Times (default = 1) (CUU).
case 'A':
  this.<span class="apidocCodeKeywordSpan">cursorUp</span>(this.params);
  break;

  // CSI Ps B
  // Cursor Down Ps Times (default = 1) (CUD).
case 'B':
  this.cursorDown(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.deleteChars" id="apidoc.element.hypernal.term.prototype.deleteChars">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteChars
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteChars = function (params) {
  var param, row, ch;

  param = params[0];
  if (param &lt; 1) param = 1;

  row = this.y + this.ybase;
  ch = [this.curAttr, ' ']; // xterm

  while (param--) {
    this.lines[row].splice(this.x, 1);
    this.lines[row].push(ch);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'M':
  this.deleteLines(this.params);
  break;

  // CSI Ps P
  // Delete Ps Character(s) (default = 1) (DCH).
case 'P':
  this.<span class="apidocCodeKeywordSpan">deleteChars</span>(this.params);
  break;

  // CSI Ps X
  // Erase Ps Character(s) (default = 1) (ECH).
case 'X':
  this.eraseChars(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.deleteLines" id="apidoc.element.hypernal.term.prototype.deleteLines">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteLines
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteLines = function (params) {
  var param, row, j;

  param = params[0];
  if (param &lt; 1) param = 1;
  row = this.y + this.ybase;

  j = this.rows - 1 - this.scrollBottom;
  j = this.rows - 1 + this.ybase - j;

  while (param--) {
    // test: echo -e '\e[44m\e[1M\e[0m'
    // blankLine(true) - xterm/linux behavior
    this.lines.splice(j + 1, 0, this.blankLine(true));
    this.lines.splice(row, 1);
  }

  // this.maxRange();
  this.updateRange(this.y);
  this.updateRange(this.scrollBottom);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'L':
  this.insertLines(this.params);
  break;

  // CSI Ps M
  // Delete Ps Line(s) (default = 1) (DL).
case 'M':
  this.<span class="apidocCodeKeywordSpan">deleteLines</span>(this.params);
  break;

  // CSI Ps P
  // Delete Ps Character(s) (default = 1) (DCH).
case 'P':
  this.deleteChars(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.destroy" id="apidoc.element.hypernal.term.prototype.destroy">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  this.readable = false;
  this.writable = false;
  this._events = {};
  this.handler = function() {};
  this.write = function() {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseChars" id="apidoc.element.hypernal.term.prototype.eraseChars">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseChars
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseChars = function (params) {
  var param, row, j, ch;

  param = params[0];
  if (param &lt; 1) param = 1;

  row = this.y + this.ybase;
  j = this.x;
  ch = [this.curAttr, ' ']; // xterm

  while (param-- &amp;&amp; j &lt; this.cols) {
    this.lines[row][j++] = ch;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'P':
  this.deleteChars(this.params);
  break;

  // CSI Ps X
  // Erase Ps Character(s) (default = 1) (ECH).
case 'X':
  this.<span class="apidocCodeKeywordSpan">eraseChars</span>(this.params);
  break;

  // CSI Pm ` Character Position Absolute
  // [column] (default = [row,1]) (HPA).
case '`':
  this.charPosAbsolute(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseInDisplay" id="apidoc.element.hypernal.term.prototype.eraseInDisplay">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInDisplay
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseInDisplay = function (params) {
    var j;
    switch (params[0]) {
    case 0:
        this.eraseRight(this.x, this.y);
        j = this.y + 1;
        for (; j &lt; this.rows; j++) {
            this.eraseLine(j);
        }
        break;
    case 1:
        this.eraseLeft(this.x, this.y);
        j = this.y;
        while (j--) {
            this.eraseLine(j);
        }
        break;
    case 2:
        j = this.rows;
        while (j--) this.eraseLine(j);
        break;
    case 3:
        ; // no saved lines
        break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Cursor Position [row;column] (default = [1,1]) (CUP).
case 'H':
  this.cursorPos(this.params);
  break;

  // CSI Ps J Erase in Display (ED).
case 'J':
  this.<span class="apidocCodeKeywordSpan">eraseInDisplay</span>(this.params);
  break;

  // CSI Ps K Erase in Line (EL).
case 'K':
  this.eraseInLine(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseInLine" id="apidoc.element.hypernal.term.prototype.eraseInLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInLine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseInLine = function (params) {
    switch (params[0]) {
    case 0:
        this.eraseRight(this.x, this.y);
        break;
    case 1:
        this.eraseLeft(this.x, this.y);
        break;
    case 2:
        this.eraseLine(this.y);
        break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps J Erase in Display (ED).
case 'J':
  this.eraseInDisplay(this.params);
  break;

  // CSI Ps K Erase in Line (EL).
case 'K':
  this.<span class="apidocCodeKeywordSpan">eraseInLine</span>(this.params);
  break;

  // CSI Pm m Character Attributes (SGR).
case 'm':
  this.charAttributes(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseLeft" id="apidoc.element.hypernal.term.prototype.eraseLeft">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLeft
        <span class="apidocSignatureSpan">(x, y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseLeft = function (x, y) {
  var line = this.lines[this.ybase + y],
    ch = [this.curAttr, ' ']; // xterm

  x++;
  while (x--) line[x] = ch;

  this.updateRange(y);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.eraseRight(this.x, this.y);
    j = this.y + 1;
    for (; j &lt; this.rows; j++) {
        this.eraseLine(j);
    }
    break;
case 1:
    this.<span class="apidocCodeKeywordSpan">eraseLeft</span>(this.x, this.y);
    j = this.y;
    while (j--) {
        this.eraseLine(j);
    }
    break;
case 2:
    j = this.rows;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseLine" id="apidoc.element.hypernal.term.prototype.eraseLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLine
        <span class="apidocSignatureSpan">(y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseLine = function (y) {
  this.eraseRight(0, y);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  Terminal.prototype.eraseInDisplay = function(params) {
var j;
switch (params[0]) {
case 0:
    this.eraseRight(this.x, this.y);
    j = this.y + 1;
    for (; j &lt; this.rows; j++) {
        this.<span class="apidocCodeKeywordSpan">eraseLine</span>(j);
    }
    break;
case 1:
    this.eraseLeft(this.x, this.y);
    j = this.y;
    while (j--) {
        this.eraseLine(j);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseRight" id="apidoc.element.hypernal.term.prototype.eraseRight">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseRight
        <span class="apidocSignatureSpan">(x, y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseRight = function (x, y) {
  var line = this.lines[this.ybase + y],
    ch = [this.curAttr, ' ']; // xterm

  for (; x &lt; this.cols; x++) {
    line[x] = ch;
  }

  this.updateRange(y);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  x++;
  while (x--) line[x] = ch;

  this.updateRange(y);
};

Terminal.prototype.eraseLine = function(y) {
  this.<span class="apidocCodeKeywordSpan">eraseRight</span>(0, y);
};

// CSI Ps J Erase in Display (ED).
// Ps = 0 -&gt; Erase Below (default).
// Ps = 1 -&gt; Erase Above.
// Ps = 2 -&gt; Erase All.
// Ps = 3 -&gt; Erase Saved Lines (xterm).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.error" id="apidoc.element.hypernal.term.prototype.error">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  if (!Terminal.debug) return;
  if (!window.console || !window.console.error) return;
  var args = Array.prototype.slice.call(arguments);
  window.console.error.apply(window.console, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.log('Switching back to normal keypad.');
    this.applicationKeypad = false;
    this.state = states.normal;
    break;

  default:
    this.state = states.normal;
    this.<span class="apidocCodeKeywordSpan">error</span>('Unknown ESC control: %s.', ch);
    break;
  }
  break;

case states.charset:
  switch (ch) {
  case '0':
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.index" id="apidoc.element.hypernal.term.prototype.index">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>index
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function () {
  this.y++;
  if (this.y &gt; this.scrollBottom) {
    this.y--;
    this.scroll();
  }
  this.state = states.normal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // ESC E Next Line ( NEL is 0x85).
  // ESC D Index ( IND is 0x84).
case 'E':
  this.x = 0;
  break;
case 'D':
  this.<span class="apidocCodeKeywordSpan">index</span>();
  break;

  // ESC M Reverse Index ( RI is 0x8d).
case 'M':
  this.reverseIndex();
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.insertChars" id="apidoc.element.hypernal.term.prototype.insertChars">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertChars
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertChars = function (params) {
  var param, row, j, ch;

  param = params[0];
  if (param &lt; 1) param = 1;

  row = this.y + this.ybase;
  j = this.x;
  ch = [this.curAttr, ' ']; // xterm

  while (param-- &amp;&amp; j &lt; this.cols) {
    this.lines[row].splice(j++, 0, ch);
    this.lines[row].pop();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  /**
  * Additions
  */

  // CSI Ps @
  // Insert Ps (Blank) Character(s) (default = 1) (ICH).
case '@':
  this.<span class="apidocCodeKeywordSpan">insertChars</span>(this.params);
  break;

  // CSI Ps E
  // Cursor Next Line Ps Times (default = 1) (CNL).
case 'E':
  this.cursorNextLine(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.insertLines" id="apidoc.element.hypernal.term.prototype.insertLines">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertLines
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertLines = function (params) {
  var param, row, j;

  param = params[0];
  if (param &lt; 1) param = 1;
  row = this.y + this.ybase;

  j = this.rows - 1 - this.scrollBottom;
  j = this.rows - 1 + this.ybase - j + 1;

  while (param--) {
    // test: echo -e '\e[44m\e[1L\e[0m'
    // blankLine(true) - xterm/linux behavior
    this.lines.splice(row, 0, this.blankLine(true));
    this.lines.splice(j, 1);
  }

  // this.maxRange();
  this.updateRange(this.y);
  this.updateRange(this.scrollBottom);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'G':
  this.cursorCharAbsolute(this.params);
  break;

  // CSI Ps L
  // Insert Ps Line(s) (default = 1) (IL).
case 'L':
  this.<span class="apidocCodeKeywordSpan">insertLines</span>(this.params);
  break;

  // CSI Ps M
  // Delete Ps Line(s) (default = 1) (DL).
case 'M':
  this.deleteLines(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.is" id="apidoc.element.hypernal.term.prototype.is">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>is
        <span class="apidocSignatureSpan">(term)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">is = function (term) {
  var name = this.termName || Terminal.termName;
  return (name + '')
    .indexOf(term) === 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.linePosAbsolute" id="apidoc.element.hypernal.term.prototype.linePosAbsolute">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>linePosAbsolute
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">linePosAbsolute = function (params) {
    var param = params[0];
    if (param &lt; 1) param = 1;
    this.y = param - 1;
    if (this.y &gt;= this.rows) {
        this.y = this.rows - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'c':
  //- this.sendDeviceAttributes(this.params);
  break;

  // CSI Pm d
  // Line Position Absolute [row] (default = [1,column]) (VPA).
case 'd':
  this.<span class="apidocCodeKeywordSpan">linePosAbsolute</span>(this.params);
  break;

  // 145 65 e * VPR - Vertical Position Relative
case 'e':
  this.VPositionRelative(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.log" id="apidoc.element.hypernal.term.prototype.log">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
  if (!Terminal.debug) return;
  if (!window.console || !window.console.log) return;
  var args = Array.prototype.slice.call(arguments);
  window.console.log.apply(window.console, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.refreshEnd = this.y;

if (this.ybase !== this.ydisp) {
  this.ydisp = this.ybase;
  this.maxRange();
}

// this.<span class="apidocCodeKeywordSpan">log</span>(JSON.stringify(data.replace(/\x1b/g, '^[')));

for (; i &lt; l; i++) {
  ch = data[i];
  switch (this.state) {
  case states.normal:
    switch (ch) {
      // '\0'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.maxRange" id="apidoc.element.hypernal.term.prototype.maxRange">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>maxRange
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxRange = function () {
  this.refreshStart = 0;
  this.refreshEnd = this.rows - 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  cs, ch;

this.refreshStart = this.y;
this.refreshEnd = this.y;

if (this.ybase !== this.ydisp) {
  this.ydisp = this.ybase;
  this.<span class="apidocCodeKeywordSpan">maxRange</span>();
}

// this.log(JSON.stringify(data.replace(/\x1b/g, '^[')));

for (; i &lt; l; i++) {
  ch = data[i];
  switch (this.state) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.nextStop" id="apidoc.element.hypernal.term.prototype.nextStop">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>nextStop
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextStop = function (x) {
    if (x == null) x = this.x;
    while (!this.tabs[++x] &amp;&amp; x &lt; this.cols);
    return x &gt;= this.cols ? this.cols - 1 : x &lt; 0 ? 0 : x;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.x &gt; 0) {
    this.x--;
  }
  break;

  // '\t'
case '\t':
  this.x = this.<span class="apidocCodeKeywordSpan">nextStop</span>();
  break;

  // shift out
case '\x0e':
  this.setgLevel(1);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.open" id="apidoc.element.hypernal.term.prototype.open">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>open
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function () {
  var self = this,
    i = 0,
    div;

  this.element = document.createElement('div');
  this.element.className = 'terminal';
  this.children = [];

  for (; i &lt; this.rows; i++) {
    div = document.createElement('div');
    this.element.appendChild(div);
    this.children.push(div);
  }

  this.refresh(0, this.rows - 1);

  // XXX - hack, move this somewhere else.
  if (Terminal.brokenBold === null) {
    Terminal.brokenBold = isBoldBroken();
  }

  // sync default bg/fg colors
  this.element.style.backgroundColor = Terminal.defaultColors.bg;
  this.element.style.color = Terminal.defaultColors.fg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function scroll(elem) {
  if (!elem) return;
  elem.scrollTop = elem.scrollHeight;
}

module.exports = function (opts) {
  var term = new Terminal(opts);
  term.<span class="apidocCodeKeywordSpan">open</span>();

  var hypernal = through(term.write.bind(term));
  hypernal.appendTo = function (parent) {
if (typeof parent === 'string') parent = document.querySelector(parent);

parent.appendChild(term.element);
style(parent);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.prevStop" id="apidoc.element.hypernal.term.prototype.prevStop">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>prevStop
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevStop = function (x) {
    if (x == null) x = this.x;
    while (!this.tabs[--x] &amp;&amp; x &gt; 0);
    return x &gt;= this.cols ? this.cols - 1 : x &lt; 0 ? 0 : x;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ignore warnings regarging == and != (coersion makes things work here appearently)

module.exports = function (Terminal) {

  Terminal.prototype.setupStops = function(i) {
if (i != null) {
    if (!this.tabs[i]) {
        i = this.<span class="apidocCodeKeywordSpan">prevStop</span>(i);
    }
} else {
    this.tabs = {};
    i = 0;
}

for (; i &lt; this.cols; i += 8) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.refresh" id="apidoc.element.hypernal.term.prototype.refresh">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>refresh
        <span class="apidocSignatureSpan">(start, end)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">refresh = function (start, end) {
  var x, y, i, line, out, ch, width, data, attr, fgColor, bgColor, flags, row, parent;


  width = this.cols;
  y = start;

  for (; y &lt;= end; y++) {
    row = y + this.ydisp;

    line = this.lines[row];
    if (!line) {
      // simple solution in case we have more lines than rows
      // could be improved to instead remove first line (and related html element)
      return this.reset();
    }

    out = '';

    if (y === this.y &amp;&amp; this.cursorState &amp;&amp; this.ydisp === this.ybase &amp;&amp; !this.cursorHidden) {
      x = this.x;
    } else {
      x = -1;
    }

    attr = this.defAttr;
    i = 0;

    for (; i &lt; width; i++) {
      data = line[i][0];
      ch = line[i][1];

      if (i === x) data = -1;

      if (data !== attr) {
        if (attr !== this.defAttr) {
          out += '&lt;/span&gt;';
        }
        if (data !== this.defAttr) {
          if (data === -1) {
            out += '&lt;span class="reverse-video"&gt;';
          } else {
            out += '&lt;span style="';

            bgColor = data &amp; 0x1ff;
            fgColor = (data &gt;&gt; 9) &amp; 0x1ff;
            flags = data &gt;&gt; 18;

            if (flags &amp; 1) {
              if (!Terminal.brokenBold) {
                out += 'font-weight:bold;';
              }
              // see: XTerm*boldColors
              if (fgColor &lt; 8) fgColor += 8;
            }

            if (flags &amp; 2) {
              out += 'text-decoration:underline;';
            }

            if (bgColor !== 256) {
              out += 'background-color:' + Terminal.colors[bgColor] + ';';
            }

            if (fgColor !== 257) {
              out += 'color:' + Terminal.colors[fgColor] + ';';
            }

            out += '"&gt;';
          }
        }
      }

      switch (ch) {
      case '&amp;':
        out += '&amp;';
        break;
      case '&lt;':
        out += '&lt;';
        break;
      case '&gt;':
        out += '&gt;';
        break;
      default:
        if (ch &lt;= ' ') {
          out += ' ';
        } else {
          out += ch;
        }
        break;
      }

      attr = data;
    }

    if (attr !== this.defAttr) {
      out += '&lt;/span&gt;';
    }

    this.children[y].innerHTML = out;
  }

  if (parent) parent.appendChild(this.element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

'use strict';

module.exports = function (Terminal) {
Terminal.prototype.cursorBlink = function() {
  if (Terminal.focus !== this) return;
  this.cursorState ^= 1;
  this.<span class="apidocCodeKeywordSpan">refresh</span>(this.y, this.y);
};

Terminal.prototype.showCursor = function() {
  if (!this.cursorState) {
    this.cursorState = 1;
    this.refresh(this.y, this.y);
  } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.repeatPrecedingCharacter" id="apidoc.element.hypernal.term.prototype.repeatPrecedingCharacter">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>repeatPrecedingCharacter
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">repeatPrecedingCharacter = function (params) {
  var param = params[0] || 1,
    line = this.lines[this.ybase + this.y],
    ch = line[this.x - 1] || [this.defAttr, ' '];

  while (param--) line[this.x++] = ch;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).
case 'Z':
  this.cursorBackwardTab(this.params);
  break;

  // CSI Ps b Repeat the preceding graphic character Ps times (REP).
case 'b':
  this.<span class="apidocCodeKeywordSpan">repeatPrecedingCharacter</span>(this.params);
  break;

  // CSI Ps g Tab Clear (TBC).
case 'g':
  this.tabClear(this.params);
  break;
case 'p':
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.reset" id="apidoc.element.hypernal.term.prototype.reset">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  Terminal.call(this, this.cols, this.rows);
  this.refresh(0, this.rows - 1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

writes the given string to the terminal.

***term.writeln(s:String)***

writes the given string to the terminal and adds a line break.

***term.<span class="apidocCodeKeywordSpan">reset</span>()***

clears the terminal

## Kudos

hypernal is basically a trimmed down version of [tty.js](https://github.com/chjj/tty.js/) focused on and improved for rendering
only.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.restoreCursor" id="apidoc.element.hypernal.term.prototype.restoreCursor">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>restoreCursor
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restoreCursor = function (params) {
  this.x = this.savedX || 0;
  this.y = this.savedY || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case '7':
  this.saveCursor();
  this.state = states.normal;
  break;

  // ESC 8 Restore Cursor (DECRC).
case '8':
  this.<span class="apidocCodeKeywordSpan">restoreCursor</span>();
  this.state = states.normal;
  break;

  // ESC # 3 DEC line height/width
case '#':
  this.state = states.normal;
  i++;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.reverseIndex" id="apidoc.element.hypernal.term.prototype.reverseIndex">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reverseIndex
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reverseIndex = function () {
  var j;
  this.y--;
  if (this.y &lt; this.scrollTop) {
    this.y++;
    // possibly move the code below to term.reverseScroll();
    // test: echo -ne '\e[1;1H\e[44m\eM\e[0m'
    // blankLine(true) is xterm/linux behavior
    this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));
    j = this.rows - 1 - this.scrollBottom;
    this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);
    // this.maxRange();
    this.updateRange(this.scrollTop);
    this.updateRange(this.scrollBottom);
  }
  this.state = states.normal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  break;
case 'D':
  this.index();
  break;

  // ESC M Reverse Index ( RI is 0x8d).
case 'M':
  this.<span class="apidocCodeKeywordSpan">reverseIndex</span>();
  break;

  // ESC % Select default/utf-8 character set.
  // @ = default, G = utf-8
case '%':
  //this.charset = null;
  this.setgLevel(0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.saveCursor" id="apidoc.element.hypernal.term.prototype.saveCursor">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>saveCursor
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">saveCursor = function (params) {
  this.savedX = this.x;
  this.savedY = this.y;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Invoke the G1 Character Set as GR (LS1R).
case '~':
  this.setgLevel(1);
  break;

  // ESC 7 Save Cursor (DECSC).
case '7':
  this.<span class="apidocCodeKeywordSpan">saveCursor</span>();
  this.state = states.normal;
  break;

  // ESC 8 Restore Cursor (DECRC).
case '8':
  this.restoreCursor();
  this.state = states.normal;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.setupStops" id="apidoc.element.hypernal.term.prototype.setupStops">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>setupStops
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setupStops = function (i) {
    if (i != null) {
        if (!this.tabs[i]) {
            i = this.prevStop(i);
        }
    } else {
        this.tabs = {};
        i = 0;
    }

    for (; i &lt; this.cols; i += 8) {
        this.tabs[i] = true;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.blankLine());
  }

  this.tabs;
  this.<span class="apidocCodeKeywordSpan">setupStops</span>();
}

require('./lib/colors')(Terminal);
require('./lib/options')(Terminal);

require('./lib/open')(Terminal);
require('./lib/destroy')(Terminal);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.softReset" id="apidoc.element.hypernal.term.prototype.softReset">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>softReset
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">softReset = function (params) {
  this.cursorHidden = false;
  this.insertMode = false;
  this.originMode = false;
  this.wraparoundMode = false; // autowrap
  this.applicationKeypad = false; // ?
  this.scrollTop = 0;
  this.scrollBottom = this.rows - 1;
  this.curAttr = this.defAttr;
  this.x = this.y = 0; // ?
  this.charset = null;
  this.glevel = 0; // ??
  this.charsets = [null]; // ??
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps g Tab Clear (TBC).
case 'g':
  this.tabClear(this.params);
  break;
case 'p':
  switch (this.prefix) {
  case '!':
    this.<span class="apidocCodeKeywordSpan">softReset</span>(this.params);
    break;
  }
  break;

default:
  this.error('Unknown CSI code: %s.', ch);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.tabClear" id="apidoc.element.hypernal.term.prototype.tabClear">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabClear
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tabClear = function (params) {
  var param = params[0];
  if (param &lt;= 0) {
    delete this.tabs[this.x];
  } else if (param === 3) {
    this.tabs = {};
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps b Repeat the preceding graphic character Ps times (REP).
case 'b':
  this.repeatPrecedingCharacter(this.params);
  break;

  // CSI Ps g Tab Clear (TBC).
case 'g':
  this.<span class="apidocCodeKeywordSpan">tabClear</span>(this.params);
  break;
case 'p':
  switch (this.prefix) {
  case '!':
    this.softReset(this.params);
    break;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.tabSet" id="apidoc.element.hypernal.term.prototype.tabSet">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabSet
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tabSet = function () {
  this.tabs[this.x] = true;
  this.state = states.normal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case '#':
  this.state = states.normal;
  i++;
  break;

  // ESC H Tab Set (HTS is 0x88).
case 'H':
  this.<span class="apidocCodeKeywordSpan">tabSet</span>();
  break;

  // ESC = Application Keypad (DECPAM).
case '=':
  this.log('Serial port requested application keypad.');
  this.applicationKeypad = true;
  this.state = states.normal;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.updateRange" id="apidoc.element.hypernal.term.prototype.updateRange">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>updateRange
        <span class="apidocSignatureSpan">(y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateRange = function (y) {
  if (y &lt; this.refreshStart) this.refreshStart = y;
  if (y &gt; this.refreshEnd) this.refreshEnd = y;
  addRowsOnDemand.bind(this)();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var line = this.lines[this.ybase + y],
  ch = [this.curAttr, ' ']; // xterm

for (; x &lt; this.cols; x++) {
  line[x] = ch;
}

this.<span class="apidocCodeKeywordSpan">updateRange</span>(y);
  };

  Terminal.prototype.eraseLeft = function(x, y) {
var line = this.lines[this.ybase + y],
  ch = [this.curAttr, ' ']; // xterm

x++;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.write" id="apidoc.element.hypernal.term.prototype.write">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>write
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (data) {

  data = fixLinefeed(data);
  data = fixIndent(data);

  var l = data.length,
    i = 0,
    cs, ch;

  this.refreshStart = this.y;
  this.refreshEnd = this.y;

  if (this.ybase !== this.ydisp) {
    this.ydisp = this.ybase;
    this.maxRange();
  }

  // this.log(JSON.stringify(data.replace(/\x1b/g, '^[')));

  for (; i &lt; l; i++) {
    ch = data[i];
    switch (this.state) {
    case states.normal:
      switch (ch) {
        // '\0'
        // case '\0':
        // break;

        // '\a'
      case '\x07':
        this.bell();
        break;

        // '\n', '\v', '\f'
      case '\n':
      case '\x0b':
      case '\x0c':
        if (this.convertEol) {
          this.x = 0;
        }
        this.y++;
        break;

        // '\r'
      case '\r':
        this.x = 0;
        break;

        // '\b'
      case '\x08':
        if (this.x &gt; 0) {
          this.x--;
        }
        break;

        // '\t'
      case '\t':
        this.x = this.nextStop();
        break;

        // shift out
      case '\x0e':
        this.setgLevel(1);
        break;

        // shift in
      case '\x0f':
        this.setgLevel(0);
        break;

        // '\e'
      case '\x1b':
        this.state = states.escaped;
        break;

      default:
        // ' '
        if (ch &gt;= ' ') {
          if (this.charset &amp;&amp; this.charset[ch]) {
            ch = this.charset[ch];
          }
          if (this.x &gt;= this.cols) {
            this.x = 0;
            this.y++;
          }

          // FIXME: this prevents errors from being thrown, but needs a proper fix
          if (this.lines[this.y + this.ybase])
            this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];

          this.x++;
          this.updateRange(this.y);
        }
        break;
      }
      break;
    case states.escaped:
      switch (ch) {
        // ESC [ Control Sequence Introducer ( CSI is 0x9b).
      case '[':
        this.params = [];
        this.currentParam = 0;
        this.state = states.csi;
        break;

        // ESC ] Operating System Command ( OSC is 0x9d).
      case ']':
        this.params = [];
        this.currentParam = 0;
        this.state = states.osc;
        break;

        // ESC P Device Control String ( DCS is 0x90).
      case 'P':
        this.params = [];
        this.currentParam = 0;
        this.state = states.dcs;
        break;

        // ESC _ Application Program Command ( APC is 0x9f).
      case '_':
        this.stateType = 'apc';
        this.state = states.ignore;
        break;

        // ESC ^ Privacy Message ( PM is 0x9e).
      case '^':
        this.stateType = 'pm';
        this.state = states.ignore;
        break;

        // ESC c Full Reset (RIS).
      case 'c':
        this.reset();
        break;

        // ESC E Next Line ( NEL is 0x85).
        // ESC D Index ( IND is 0x84).
      case 'E':
        this.x = 0;
        break;
      case 'D':
        this.index();
        break;

        // ESC M Reverse Index ( RI is 0x8d).
      case 'M':
        this.reverseIndex();
        break;

        // ESC % Select default/utf-8 character set.
        // @ = default, G = utf-8
      case '%':
        //this.charset = null;
        this.setgLevel(0);
        this.setgCharset(0, Terminal.charsets.US);
        this.state = states.normal;
        i++;
        break;

        // ESC (,),*,+,-,. Designate G0-G2 Character Set.
      case '(':
        // &lt;-- this seems to get all the attention
      case ')':
      case '*':
      case '+':
      case '-':
      case '.':
        switch (ch) {
        case '(':
          this.gcharset = 0;
          break;
        case ')':
          this.gcharset = 1;
          break;
        case '*':
          this.gcharset = 2;
          break;
        case '+':
          this.gcharset = 3;
          break;
        case '-':
          this.gcharset = 1;
          break;
        case '.':
          this.gcharset = 2;
          break;
        }
        this.state = states.charset;
        break;

        // Designate G3 Character Set (VT300). ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var difflet = require('difflet')({
    indent : 2
  , comma : 'first'
  , comment: true
  });

var diff = difflet.compare({ a : [1, 2, 3 ], c : 5 }, { a : [1, 2, 3, 4 ], b : 4 });
term.<span class="apidocCodeKeywordSpan">write</span>(diff);
```

**browserify-build.js**
```js
require('browserify')()
.require(require.resolve('./main.js'), { entry: true })
.bundle()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.writeln" id="apidoc.element.hypernal.term.prototype.writeln">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>writeln
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeln = function (data) {
  // at times spaces appear in between escape chars and fixIndent fails us, so we fix it here
  data = data.replace(/ /g, '&amp;nbsp;');
  // adding empty char before line break ensures that empty lines render properly
  this.write(data + ' \r\n');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

appends the terminal to the given DOM element.

***term.write(s:String)***

writes the given string to the terminal.

***term.<span class="apidocCodeKeywordSpan">writeln</span>(s:String)***

writes the given string to the terminal and adds a line break.

***term.reset()***

clears the terminal
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.toString" id="apidoc.module.hypernal.toString">module hypernal.toString</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.toString.toString" id="apidoc.element.hypernal.toString.toString">
        function <span class="apidocSignatureSpan">hypernal.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  function out(r, g, b) {
    colors.push('#' + hex(r) + hex(g) + hex(b));
  }

  function hex(c) {
    c = c.<span class="apidocCodeKeywordSpan">toString</span>(16);
    return c.length &lt; 2 ? '0' + c : c;
  }

  return colors;
})();

// Default BG/FG
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.util" id="apidoc.module.hypernal.util">module hypernal.util</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.util.util" id="apidoc.element.hypernal.util.util">
        function <span class="apidocSignatureSpan">hypernal.</span>util
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">util = function (Terminal) {
  Terminal.prototype.ch = function(cur) {
    return cur ? [this.curAttr, ' '] : [this.defAttr, ' '];
  };

  Terminal.prototype.is = function(term) {
    var name = this.termName || Terminal.termName;
    return (name + '')
      .indexOf(term) === 0;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.write" id="apidoc.module.hypernal.write">module hypernal.write</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.write.write" id="apidoc.element.hypernal.write.write">
        function <span class="apidocSignatureSpan">hypernal.</span>write
        <span class="apidocSignatureSpan">(Terminal)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (Terminal) {

  Terminal.prototype.bell = function() {
    var snd = new Audio("bell.wav"); // buffers automatically when created
    snd.play();

    if (!Terminal.visualBell) return;
    var self = this;
    this.element.style.borderColor = 'white';
    setTimeout(function() {
      self.element.style.borderColor = '';
    }, 10);
    if (Terminal.popOnBell) this.focus();
  };

  Terminal.prototype.write = function(data) {

    data = fixLinefeed(data);
    data = fixIndent(data);

    var l = data.length,
      i = 0,
      cs, ch;

    this.refreshStart = this.y;
    this.refreshEnd = this.y;

    if (this.ybase !== this.ydisp) {
      this.ydisp = this.ybase;
      this.maxRange();
    }

    // this.log(JSON.stringify(data.replace(/\x1b/g, '^[')));

    for (; i &lt; l; i++) {
      ch = data[i];
      switch (this.state) {
      case states.normal:
        switch (ch) {
          // '\0'
          // case '\0':
          // break;

          // '\a'
        case '\x07':
          this.bell();
          break;

          // '\n', '\v', '\f'
        case '\n':
        case '\x0b':
        case '\x0c':
          if (this.convertEol) {
            this.x = 0;
          }
          this.y++;
          break;

          // '\r'
        case '\r':
          this.x = 0;
          break;

          // '\b'
        case '\x08':
          if (this.x &gt; 0) {
            this.x--;
          }
          break;

          // '\t'
        case '\t':
          this.x = this.nextStop();
          break;

          // shift out
        case '\x0e':
          this.setgLevel(1);
          break;

          // shift in
        case '\x0f':
          this.setgLevel(0);
          break;

          // '\e'
        case '\x1b':
          this.state = states.escaped;
          break;

        default:
          // ' '
          if (ch &gt;= ' ') {
            if (this.charset &amp;&amp; this.charset[ch]) {
              ch = this.charset[ch];
            }
            if (this.x &gt;= this.cols) {
              this.x = 0;
              this.y++;
            }

            // FIXME: this prevents errors from being thrown, but needs a proper fix
            if (this.lines[this.y + this.ybase])
              this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];

            this.x++;
            this.updateRange(this.y);
          }
          break;
        }
        break;
      case states.escaped:
        switch (ch) {
          // ESC [ Control Sequence Introducer ( CSI is 0x9b).
        case '[':
          this.params = [];
          this.currentParam = 0;
          this.state = states.csi;
          break;

          // ESC ] Operating System Command ( OSC is 0x9d).
        case ']':
          this.params = [];
          this.currentParam = 0;
          this.state = states.osc;
          break;

          // ESC P Device Control String ( DCS is 0x90).
        case 'P':
          this.params = [];
          this.currentParam = 0;
          this.state = states.dcs;
          break;

          // ESC _ Application Program Command ( APC is 0x9f).
        case '_':
          this.stateType = 'apc';
          this.state = states.ignore;
          break;

          // ESC ^ Privacy Message ( PM is 0x9e).
        case '^':
          this.stateType = 'pm';
          this.state = states.ignore;
          break;

          // ESC c Full Reset (RIS).
        case 'c':
          this.reset();
          break;

          // ESC E Next Line ( NEL is 0x85).
          // ESC D Index ( IND is 0x84).
        case 'E':
          this.x = 0;
          break;
        case 'D':
          this.index();
          break;

          // ESC M Reverse Index ( RI is 0x8d).
        case 'M':
          this.reverseIndex();
          break;

          // ESC % Select default/utf-8 character set.
          // @ = default, G = utf-8
        case '%':
          //this.charset = null;
          this.setgLevel(0);
          this.setgCharset(0, Terminal.charsets.US);
          this.state = states.normal;
          i++;
          break;

          // ESC (,),*,+,-,. Designate ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var difflet = require('difflet')({
    indent : 2
  , comma : 'first'
  , comment: true
  });

var diff = difflet.compare({ a : [1, 2, 3 ], c : 5 }, { a : [1, 2, 3, 4 ], b : 4 });
term.<span class="apidocCodeKeywordSpan">write</span>(diff);
```

**browserify-build.js**
```js
require('browserify')()
.require(require.resolve('./main.js'), { entry: true })
.bundle()
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>