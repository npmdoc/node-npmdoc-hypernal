<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/thlorenz/hypernal"

    >hypernal (v0.3.0)</a>
</h1>
<h4>Renders terminal output as html to simplify reusing server side modules in the browser.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal">module hypernal</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.hypernal">
            function <span class="apidocSignatureSpan"></span>hypernal
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term">
            function <span class="apidocSignatureSpan">hypernal.</span>term
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.</span>term.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.term">module hypernal.term</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>cursorBlink</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>debug</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>popOnBell</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>programFeatures</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>screenKeys</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">hypernal.term.</span>visualBell</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.term">
            function <span class="apidocSignatureSpan">hypernal.</span>term
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">hypernal.term.</span>scrollback</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>charsets</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>colors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>defaultColors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">hypernal.term.</span>geometry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">hypernal.term.</span>termName</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.hypernal.term.prototype">module hypernal.term.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.HPositionRelative">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HPositionRelative
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.HVPosition">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HVPosition
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.VPositionRelative">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>VPositionRelative
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.bell">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>bell
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.blankLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>blankLine
            <span class="apidocSignatureSpan">(cur)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.ch">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>ch
            <span class="apidocSignatureSpan">(cur)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.charAttributes">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charAttributes
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.charPosAbsolute">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charPosAbsolute
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorBackward">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackward
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorBackwardTab">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackwardTab
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorCharAbsolute">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorCharAbsolute
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorDown">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorDown
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorForward">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForward
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorForwardTab">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForwardTab
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorNextLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorNextLine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorPos">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPos
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorPrecedingLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPrecedingLine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.cursorUp">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorUp
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.deleteChars">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteChars
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.deleteLines">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteLines
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.destroy">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>destroy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseChars">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseChars
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseInDisplay">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInDisplay
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseInLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInLine
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseLeft">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLeft
            <span class="apidocSignatureSpan">(x, y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseLine">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLine
            <span class="apidocSignatureSpan">(y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.eraseRight">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseRight
            <span class="apidocSignatureSpan">(x, y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.error">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>error
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.index">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>index
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.insertChars">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertChars
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.insertLines">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertLines
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.is">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>is
            <span class="apidocSignatureSpan">(term)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.linePosAbsolute">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>linePosAbsolute
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.log">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.maxRange">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>maxRange
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.nextStop">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>nextStop
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.open">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>open
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.prevStop">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>prevStop
            <span class="apidocSignatureSpan">(x)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.refresh">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>refresh
            <span class="apidocSignatureSpan">(start, end)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.repeatPrecedingCharacter">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>repeatPrecedingCharacter
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.reset">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.restoreCursor">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>restoreCursor
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.reverseIndex">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reverseIndex
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.saveCursor">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>saveCursor
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.setupStops">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>setupStops
            <span class="apidocSignatureSpan">(i)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.softReset">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>softReset
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.tabClear">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabClear
            <span class="apidocSignatureSpan">(params)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.tabSet">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabSet
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.updateRange">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>updateRange
            <span class="apidocSignatureSpan">(y)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.write">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>write
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.hypernal.term.prototype.writeln">
            function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>writeln
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal" id="apidoc.module.hypernal">module hypernal</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.hypernal" id="apidoc.element.hypernal.hypernal">
        function <span class="apidocSignatureSpan"></span>hypernal
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">hypernal = function (opts) {
  var term = new Terminal(opts);
  term.open();

  var hypernal = through(term.write.bind(term));
  hypernal.appendTo = function (parent) {
    if (typeof parent === &#x27;string&#x27;) parent = document.querySelector(parent);

    parent.appendChild(term.element);
    style(parent);
    hypernal.container = parent;
    term.element.style.position = &#x27;relative&#x27;;
  };

  hypernal.writeln = function (line) {
    term.writeln(line);
    if (hypernal.tail) scroll(hypernal.container);
  };

  hypernal.write = function (data) {
    term.write(data);
    if (hypernal.tail) scroll(hypernal.container);
  };

  // convenience shortcuts
  hypernal.reset   =  term.reset.bind(term);
  hypernal.element =  term.element;

  // the underlying term for all other needs
  hypernal.term = term;

  return hypernal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term" id="apidoc.element.hypernal.term">
        function <span class="apidocSignatureSpan">hypernal.</span>term
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Terminal(opts) {
  opts = opts || {};
  if (!(this instanceof Terminal)) return new Terminal(opts);

  this.cols = opts.cols || 500;
  this.rows = opts.rows || 100;

  this.ybase = 0;
  this.ydisp = 0;
  this.x = 0;
  this.y = 0;
  this.cursorState = 0;
  this.cursorHidden = false;
  this.convertEol = false;
  this.state = states.normal;
  this.queue = &#x27;&#x27;;
  this.scrollTop = 0;
  this.scrollBottom = this.rows - 1;

  // modes
  this.applicationKeypad = false;
  this.originMode = false;
  this.insertMode = false;
  this.wraparoundMode = false;
  this.normal = null;

  // charset
  this.charset = null;
  this.gcharset = null;
  this.glevel = 0;
  this.charsets = [null];

  // misc
  this.element;
  this.children;
  this.refreshStart;
  this.refreshEnd;
  this.savedX;
  this.savedY;
  this.savedCols;

  // stream
  this.readable = true;
  this.writable = true;

  this.defAttr = (257 &#x3c;&#x3c; 9) | 256;
  this.curAttr = this.defAttr;

  this.params = [];
  this.currentParam = 0;
  this.prefix = &#x27;&#x27;;
  this.postfix = &#x27;&#x27;;

  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.blankLine());
  }

  this.tabs;
  this.setupStops();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.term" id="apidoc.module.hypernal.term">module hypernal.term</a></h1>














    <h2>
        <a href="#apidoc.element.hypernal.term.term" id="apidoc.element.hypernal.term.term">
        function <span class="apidocSignatureSpan">hypernal.</span>term
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Terminal(opts) {
  opts = opts || {};
  if (!(this instanceof Terminal)) return new Terminal(opts);

  this.cols = opts.cols || 500;
  this.rows = opts.rows || 100;

  this.ybase = 0;
  this.ydisp = 0;
  this.x = 0;
  this.y = 0;
  this.cursorState = 0;
  this.cursorHidden = false;
  this.convertEol = false;
  this.state = states.normal;
  this.queue = &#x27;&#x27;;
  this.scrollTop = 0;
  this.scrollBottom = this.rows - 1;

  // modes
  this.applicationKeypad = false;
  this.originMode = false;
  this.insertMode = false;
  this.wraparoundMode = false;
  this.normal = null;

  // charset
  this.charset = null;
  this.gcharset = null;
  this.glevel = 0;
  this.charsets = [null];

  // misc
  this.element;
  this.children;
  this.refreshStart;
  this.refreshEnd;
  this.savedX;
  this.savedY;
  this.savedCols;

  // stream
  this.readable = true;
  this.writable = true;

  this.defAttr = (257 &#x3c;&#x3c; 9) | 256;
  this.curAttr = this.defAttr;

  this.params = [];
  this.currentParam = 0;
  this.prefix = &#x27;&#x27;;
  this.postfix = &#x27;&#x27;;

  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.blankLine());
  }

  this.tabs;
  this.setupStops();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.hypernal.term.prototype" id="apidoc.module.hypernal.term.prototype">module hypernal.term.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.HPositionRelative" id="apidoc.element.hypernal.term.prototype.HPositionRelative">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HPositionRelative
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HPositionRelative = function (params) {
  var param = params[0];
  if (param &#x3c; 1) param = 1;
  this.x += param;
  if (this.x &#x3e;= this.cols) {
    this.x = this.cols - 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;`&#x27;:
  this.charPosAbsolute(this.params);
  break;

  // 141 61 a * HPR -
  // Horizontal Position Relative
case &#x27;a&#x27;:
  this.<span class="apidocCodeKeywordSpan">HPositionRelative</span>(this.params);
  break;

  // CSI P s c
  // Send Device Attributes (Primary DA).
  // CSI &#x3e; P s c
  // Send Device Attributes (Secondary DA)
case &#x27;c&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.HVPosition" id="apidoc.element.hypernal.term.prototype.HVPosition">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>HVPosition
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">HVPosition = function (params) {
    if (params[0] &#x3c; 1) params[0] = 1;
    if (params[1] &#x3c; 1) params[1] = 1;

    this.y = params[0] - 1;
    if (this.y &#x3e;= this.rows) {
        this.y = this.rows - 1;
    }

    this.x = params[1] - 1;
    if (this.x &#x3e;= this.cols) {
        this.x = this.cols - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.VPositionRelative(this.params);
  break;

  // CSI Ps ; Ps f
  // Horizontal and Vertical Position [row;column] (default =
  // [1,1]) (HVP).
case &#x27;f&#x27;:
  this.<span class="apidocCodeKeywordSpan">HVPosition</span>(this.params);
  break;

  // CSI Pm h Set Mode (SM).
  // CSI ? Pm h - mouse escape codes, cursor escape codes
case &#x27;h&#x27;:
  //- this.setMode(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.VPositionRelative" id="apidoc.element.hypernal.term.prototype.VPositionRelative">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>VPositionRelative
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">VPositionRelative = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.y += param;
    if (this.y &#x3e;= this.rows) {
        this.y = this.rows - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Line Position Absolute [row] (default = [1,column]) (VPA).
case &#x27;d&#x27;:
  this.linePosAbsolute(this.params);
  break;

  // 145 65 e * VPR - Vertical Position Relative
case &#x27;e&#x27;:
  this.<span class="apidocCodeKeywordSpan">VPositionRelative</span>(this.params);
  break;

  // CSI Ps ; Ps f
  // Horizontal and Vertical Position [row;column] (default =
  // [1,1]) (HVP).
case &#x27;f&#x27;:
  this.HVPosition(this.params);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.bell" id="apidoc.element.hypernal.term.prototype.bell">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>bell
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bell = function () {
  var snd = new Audio(&#x22;bell.wav&#x22;); // buffers automatically when created
  snd.play();

  if (!Terminal.visualBell) return;
  var self = this;
  this.element.style.borderColor = &#x27;white&#x27;;
  setTimeout(function() {
    self.element.style.borderColor = &#x27;&#x27;;
  }, 10);
  if (Terminal.popOnBell) this.focus();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
switch (ch) {
  // &#x27;\0&#x27;
  // case &#x27;\0&#x27;:
  // break;

  // &#x27;\a&#x27;
case &#x27;\x07&#x27;:
  this.<span class="apidocCodeKeywordSpan">bell</span>();
  break;

  // &#x27;\n&#x27;, &#x27;\v&#x27;, &#x27;\f&#x27;
case &#x27;\n&#x27;:
case &#x27;\x0b&#x27;:
case &#x27;\x0c&#x27;:
  if (this.convertEol) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.blankLine" id="apidoc.element.hypernal.term.prototype.blankLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>blankLine
        <span class="apidocSignatureSpan">(cur)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">blankLine = function (cur) {
  var attr = cur ? this.curAttr : this.defAttr;

  var ch = [attr, &#x27; &#x27;],
    line = [],
    i = 0;

  for (; i &#x3c; this.cols; i++) {
    line[i] = ch;
  }

  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.currentParam = 0;
  this.prefix = &#x27;&#x27;;
  this.postfix = &#x27;&#x27;;

  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.<span class="apidocCodeKeywordSpan">blankLine</span>());
  }

  this.tabs;
  this.setupStops();
}

require(&#x27;./lib/colors&#x27;)(Terminal);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.ch" id="apidoc.element.hypernal.term.prototype.ch">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>ch
        <span class="apidocSignatureSpan">(cur)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ch = function (cur) {
  return cur ? [this.curAttr, &#x27; &#x27;] : [this.defAttr, &#x27; &#x27;];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.charAttributes" id="apidoc.element.hypernal.term.prototype.charAttributes">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charAttributes
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charAttributes = function (params) {
  var l = params.length,
    i = 0,
    bg, fg, p;

  for (; i &#x3c; l; i++) {
    p = params[i];
    if (p &#x3e;= 30 &#x26;&#x26; p &#x3c;= 37) {
      // fg color 8
      this.curAttr = (this.curAttr &#x26; ~ (0x1ff &#x3c;&#x3c; 9)) | ((p - 30) &#x3c;&#x3c; 9);
    } else if (p &#x3e;= 40 &#x26;&#x26; p &#x3c;= 47) {
      // bg color 8
      this.curAttr = (this.curAttr &#x26; ~0x1ff) | (p - 40);
    } else if (p &#x3e;= 90 &#x26;&#x26; p &#x3c;= 97) {
      // fg color 16
      p += 8;
      this.curAttr = (this.curAttr &#x26; ~ (0x1ff &#x3c;&#x3c; 9)) | ((p - 90) &#x3c;&#x3c; 9);
    } else if (p &#x3e;= 100 &#x26;&#x26; p &#x3c;= 107) {
      // bg color 16
      p += 8;
      this.curAttr = (this.curAttr &#x26; ~0x1ff) | (p - 100);
    } else if (p === 0) {
      // default
      this.curAttr = this.defAttr;
    } else if (p === 1) {
      // bold text
      this.curAttr = this.curAttr | (1 &#x3c;&#x3c; 18);
    } else if (p === 4) {
      // underlined text
      this.curAttr = this.curAttr | (2 &#x3c;&#x3c; 18);
    } else if (p === 7 || p === 27) {
      // inverse and positive
      // test with: echo -e &#x27;\e[31m\e[42mhello\e[7mworld\e[27mhi\e[m&#x27;
      if (p === 7) {
        if ((this.curAttr &#x3e;&#x3e; 18) &#x26; 4) continue;
        this.curAttr = this.curAttr | (4 &#x3c;&#x3c; 18);
      } else if (p === 27) {
        if (~ (this.curAttr &#x3e;&#x3e; 18) &#x26; 4) continue;
        this.curAttr = this.curAttr &#x26; ~ (4 &#x3c;&#x3c; 18);
      }

      bg = this.curAttr &#x26; 0x1ff;
      fg = (this.curAttr &#x3e;&#x3e; 9) &#x26; 0x1ff;

      this.curAttr = (this.curAttr &#x26; ~0x3ffff) | ((bg &#x3c;&#x3c; 9) | fg);
    } else if (p === 22) {
      // not bold
      this.curAttr = this.curAttr &#x26; ~ (1 &#x3c;&#x3c; 18);
    } else if (p === 24) {
      // not underlined
      this.curAttr = this.curAttr &#x26; ~ (2 &#x3c;&#x3c; 18);
    } else if (p === 39) {
      // reset fg
      this.curAttr = this.curAttr &#x26; ~ (0x1ff &#x3c;&#x3c; 9);
      this.curAttr = this.curAttr | (((this.defAttr &#x3e;&#x3e; 9) &#x26; 0x1ff) &#x3c;&#x3c; 9);
    } else if (p === 49) {
      // reset bg
      this.curAttr = this.curAttr &#x26; ~0x1ff;
      this.curAttr = this.curAttr | (this.defAttr &#x26; 0x1ff);
    } else if (p === 38) {
      // fg color 256
      if (params[i + 1] !== 5) continue;
      i += 2;
      p = params[i] &#x26; 0xff;
      // convert 88 colors to 256
      // if (this.is(&#x27;rxvt-unicode&#x27;) &#x26;&#x26; p &#x3c; 88) p = p * 2.9090 | 0;
      this.curAttr = (this.curAttr &#x26; ~ (0x1ff &#x3c;&#x3c; 9)) | (p &#x3c;&#x3c; 9);
    } else if (p === 48) {
      // bg color 256
      if (params[i + 1] !== 5) continue;
      i += 2;
      p = params[i] &#x26; 0xff;
      // convert 88 colors to 256
      // if (this.is(&#x27;rxvt-unicode&#x27;) &#x26;&#x26; p &#x3c; 88) p = p * 2.9090 | 0;
      this.curAttr = (this.curAttr &#x26; ~0x1ff) | p;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps K Erase in Line (EL).
case &#x27;K&#x27;:
  this.eraseInLine(this.params);
  break;

  // CSI Pm m Character Attributes (SGR).
case &#x27;m&#x27;:
  this.<span class="apidocCodeKeywordSpan">charAttributes</span>(this.params);
  break;

  // CSI Ps n Device Status Report (DSR).
case &#x27;n&#x27;:
  this.deviceStatus(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.charPosAbsolute" id="apidoc.element.hypernal.term.prototype.charPosAbsolute">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>charPosAbsolute
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">charPosAbsolute = function (params) {
  var param = params[0];
  if (param &#x3c; 1) param = 1;
  this.x = param - 1;
  if (this.x &#x3e;= this.cols) {
    this.x = this.cols - 1;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;X&#x27;:
  this.eraseChars(this.params);
  break;

  // CSI Pm ` Character Position Absolute
  // [column] (default = [row,1]) (HPA).
case &#x27;`&#x27;:
  this.<span class="apidocCodeKeywordSpan">charPosAbsolute</span>(this.params);
  break;

  // 141 61 a * HPR -
  // Horizontal Position Relative
case &#x27;a&#x27;:
  this.HPositionRelative(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorBackward" id="apidoc.element.hypernal.term.prototype.cursorBackward">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackward
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorBackward = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.x -= param;
    if (this.x &#x3c; 0) this.x = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;C&#x27;:
  this.cursorForward(this.params);
  break;

  // CSI Ps D
  // Cursor Backward Ps Times (default = 1) (CUB).
case &#x27;D&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorBackward</span>(this.params);
  break;

  // CSI Ps ; Ps H
  // Cursor Position [row;column] (default = [1,1]) (CUP).
case &#x27;H&#x27;:
  this.cursorPos(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorBackwardTab" id="apidoc.element.hypernal.term.prototype.cursorBackwardTab">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorBackwardTab
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorBackwardTab = function (params) {
    var param = params[0] || 1;
    while (param--) {
        this.x = this.prevStop();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    //- this.scrollDown(this.params);
  }
  break;

  // CSI Ps Z
  // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).
case &#x27;Z&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorBackwardTab</span>(this.params);
  break;

  // CSI Ps b Repeat the preceding graphic character Ps times (REP).
case &#x27;b&#x27;:
  this.repeatPrecedingCharacter(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorCharAbsolute" id="apidoc.element.hypernal.term.prototype.cursorCharAbsolute">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorCharAbsolute
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorCharAbsolute = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.x = param - 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;F&#x27;:
  this.cursorPrecedingLine(this.params);
  break;

  // CSI Ps G
  // Cursor Character Absolute [column] (default = [row,1]) (CHA).
case &#x27;G&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorCharAbsolute</span>(this.params);
  break;

  // CSI Ps L
  // Insert Ps Line(s) (default = 1) (IL).
case &#x27;L&#x27;:
  this.insertLines(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorDown" id="apidoc.element.hypernal.term.prototype.cursorDown">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorDown
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorDown = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.y += param;
    if (this.y &#x3e;= this.rows) {
        this.y = this.rows - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;A&#x27;:
  this.cursorUp(this.params);
  break;

  // CSI Ps B
  // Cursor Down Ps Times (default = 1) (CUD).
case &#x27;B&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorDown</span>(this.params);
  break;

  // CSI Ps C
  // Cursor Forward Ps Times (default = 1) (CUF).
case &#x27;C&#x27;:
  this.cursorForward(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorForward" id="apidoc.element.hypernal.term.prototype.cursorForward">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForward
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorForward = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.x += param;
    if (this.x &#x3e;= this.cols) {
        this.x = this.cols - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;B&#x27;:
  this.cursorDown(this.params);
  break;

  // CSI Ps C
  // Cursor Forward Ps Times (default = 1) (CUF).
case &#x27;C&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorForward</span>(this.params);
  break;

  // CSI Ps D
  // Cursor Backward Ps Times (default = 1) (CUB).
case &#x27;D&#x27;:
  this.cursorBackward(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorForwardTab" id="apidoc.element.hypernal.term.prototype.cursorForwardTab">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorForwardTab
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorForwardTab = function (params) {
    var param = params[0] || 1;
    while (param--) {
        this.x = this.nextStop();
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  /**
  * Lesser Used
  */

  // CSI Ps I
  // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).
case &#x27;I&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorForwardTab</span>(this.params);
  break;

  // CSI Ps S Scroll up Ps lines (default = 1) (SU).
case &#x27;S&#x27;:
  //- this.scrollUp(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorNextLine" id="apidoc.element.hypernal.term.prototype.cursorNextLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorNextLine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorNextLine = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.y += param;
    if (this.y &#x3e;= this.rows) {
        this.y = this.rows - 1;
    }
    this.x = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;@&#x27;:
  this.insertChars(this.params);
  break;

  // CSI Ps E
  // Cursor Next Line Ps Times (default = 1) (CNL).
case &#x27;E&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorNextLine</span>(this.params);
  break;

  // CSI Ps F
  // Cursor Preceding Line Ps Times (default = 1) (CNL).
case &#x27;F&#x27;:
  this.cursorPrecedingLine(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorPos" id="apidoc.element.hypernal.term.prototype.cursorPos">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPos
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorPos = function (params) {
    var row, col;

    row = params[0] - 1;

    if (params.length &#x3e;= 2) {
        col = params[1] - 1;
    } else {
        col = 0;
    }

    if (row &#x3c; 0) {
        row = 0;
    } else if (row &#x3e;= this.rows) {
        row = this.rows - 1;
    }

    if (col &#x3c; 0) {
        col = 0;
    } else if (col &#x3e;= this.cols) {
        col = this.cols - 1;
    }

    this.x = col;
    this.y = row;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;D&#x27;:
  this.cursorBackward(this.params);
  break;

  // CSI Ps ; Ps H
  // Cursor Position [row;column] (default = [1,1]) (CUP).
case &#x27;H&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorPos</span>(this.params);
  break;

  // CSI Ps J Erase in Display (ED).
case &#x27;J&#x27;:
  this.eraseInDisplay(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorPrecedingLine" id="apidoc.element.hypernal.term.prototype.cursorPrecedingLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorPrecedingLine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorPrecedingLine = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.y -= param;
    if (this.y &#x3c; 0) this.y = 0;
    this.x = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;E&#x27;:
  this.cursorNextLine(this.params);
  break;

  // CSI Ps F
  // Cursor Preceding Line Ps Times (default = 1) (CNL).
case &#x27;F&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorPrecedingLine</span>(this.params);
  break;

  // CSI Ps G
  // Cursor Character Absolute [column] (default = [row,1]) (CHA).
case &#x27;G&#x27;:
  this.cursorCharAbsolute(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.cursorUp" id="apidoc.element.hypernal.term.prototype.cursorUp">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>cursorUp
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cursorUp = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.y -= param;
    if (this.y &#x3c; 0) this.y = 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

this.state = states.normal;

switch (ch) {
  // CSI Ps A
  // Cursor Up Ps Times (default = 1) (CUU).
case &#x27;A&#x27;:
  this.<span class="apidocCodeKeywordSpan">cursorUp</span>(this.params);
  break;

  // CSI Ps B
  // Cursor Down Ps Times (default = 1) (CUD).
case &#x27;B&#x27;:
  this.cursorDown(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.deleteChars" id="apidoc.element.hypernal.term.prototype.deleteChars">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteChars
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteChars = function (params) {
  var param, row, ch;

  param = params[0];
  if (param &#x3c; 1) param = 1;

  row = this.y + this.ybase;
  ch = [this.curAttr, &#x27; &#x27;]; // xterm

  while (param--) {
    this.lines[row].splice(this.x, 1);
    this.lines[row].push(ch);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;M&#x27;:
  this.deleteLines(this.params);
  break;

  // CSI Ps P
  // Delete Ps Character(s) (default = 1) (DCH).
case &#x27;P&#x27;:
  this.<span class="apidocCodeKeywordSpan">deleteChars</span>(this.params);
  break;

  // CSI Ps X
  // Erase Ps Character(s) (default = 1) (ECH).
case &#x27;X&#x27;:
  this.eraseChars(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.deleteLines" id="apidoc.element.hypernal.term.prototype.deleteLines">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>deleteLines
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteLines = function (params) {
  var param, row, j;

  param = params[0];
  if (param &#x3c; 1) param = 1;
  row = this.y + this.ybase;

  j = this.rows - 1 - this.scrollBottom;
  j = this.rows - 1 + this.ybase - j;

  while (param--) {
    // test: echo -e &#x27;\e[44m\e[1M\e[0m&#x27;
    // blankLine(true) - xterm/linux behavior
    this.lines.splice(j + 1, 0, this.blankLine(true));
    this.lines.splice(row, 1);
  }

  // this.maxRange();
  this.updateRange(this.y);
  this.updateRange(this.scrollBottom);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;L&#x27;:
  this.insertLines(this.params);
  break;

  // CSI Ps M
  // Delete Ps Line(s) (default = 1) (DL).
case &#x27;M&#x27;:
  this.<span class="apidocCodeKeywordSpan">deleteLines</span>(this.params);
  break;

  // CSI Ps P
  // Delete Ps Character(s) (default = 1) (DCH).
case &#x27;P&#x27;:
  this.deleteChars(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.destroy" id="apidoc.element.hypernal.term.prototype.destroy">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>destroy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">destroy = function () {
  this.readable = false;
  this.writable = false;
  this._events = {};
  this.handler = function() {};
  this.write = function() {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseChars" id="apidoc.element.hypernal.term.prototype.eraseChars">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseChars
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseChars = function (params) {
  var param, row, j, ch;

  param = params[0];
  if (param &#x3c; 1) param = 1;

  row = this.y + this.ybase;
  j = this.x;
  ch = [this.curAttr, &#x27; &#x27;]; // xterm

  while (param-- &#x26;&#x26; j &#x3c; this.cols) {
    this.lines[row][j++] = ch;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;P&#x27;:
  this.deleteChars(this.params);
  break;

  // CSI Ps X
  // Erase Ps Character(s) (default = 1) (ECH).
case &#x27;X&#x27;:
  this.<span class="apidocCodeKeywordSpan">eraseChars</span>(this.params);
  break;

  // CSI Pm ` Character Position Absolute
  // [column] (default = [row,1]) (HPA).
case &#x27;`&#x27;:
  this.charPosAbsolute(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseInDisplay" id="apidoc.element.hypernal.term.prototype.eraseInDisplay">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInDisplay
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseInDisplay = function (params) {
    var j;
    switch (params[0]) {
    case 0:
        this.eraseRight(this.x, this.y);
        j = this.y + 1;
        for (; j &#x3c; this.rows; j++) {
            this.eraseLine(j);
        }
        break;
    case 1:
        this.eraseLeft(this.x, this.y);
        j = this.y;
        while (j--) {
            this.eraseLine(j);
        }
        break;
    case 2:
        j = this.rows;
        while (j--) this.eraseLine(j);
        break;
    case 3:
        ; // no saved lines
        break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Cursor Position [row;column] (default = [1,1]) (CUP).
case &#x27;H&#x27;:
  this.cursorPos(this.params);
  break;

  // CSI Ps J Erase in Display (ED).
case &#x27;J&#x27;:
  this.<span class="apidocCodeKeywordSpan">eraseInDisplay</span>(this.params);
  break;

  // CSI Ps K Erase in Line (EL).
case &#x27;K&#x27;:
  this.eraseInLine(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseInLine" id="apidoc.element.hypernal.term.prototype.eraseInLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseInLine
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseInLine = function (params) {
    switch (params[0]) {
    case 0:
        this.eraseRight(this.x, this.y);
        break;
    case 1:
        this.eraseLeft(this.x, this.y);
        break;
    case 2:
        this.eraseLine(this.y);
        break;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps J Erase in Display (ED).
case &#x27;J&#x27;:
  this.eraseInDisplay(this.params);
  break;

  // CSI Ps K Erase in Line (EL).
case &#x27;K&#x27;:
  this.<span class="apidocCodeKeywordSpan">eraseInLine</span>(this.params);
  break;

  // CSI Pm m Character Attributes (SGR).
case &#x27;m&#x27;:
  this.charAttributes(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseLeft" id="apidoc.element.hypernal.term.prototype.eraseLeft">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLeft
        <span class="apidocSignatureSpan">(x, y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseLeft = function (x, y) {
  var line = this.lines[this.ybase + y],
    ch = [this.curAttr, &#x27; &#x27;]; // xterm

  x++;
  while (x--) line[x] = ch;

  this.updateRange(y);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.eraseRight(this.x, this.y);
    j = this.y + 1;
    for (; j &#x3c; this.rows; j++) {
        this.eraseLine(j);
    }
    break;
case 1:
    this.<span class="apidocCodeKeywordSpan">eraseLeft</span>(this.x, this.y);
    j = this.y;
    while (j--) {
        this.eraseLine(j);
    }
    break;
case 2:
    j = this.rows;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseLine" id="apidoc.element.hypernal.term.prototype.eraseLine">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseLine
        <span class="apidocSignatureSpan">(y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseLine = function (y) {
  this.eraseRight(0, y);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  Terminal.prototype.eraseInDisplay = function(params) {
var j;
switch (params[0]) {
case 0:
    this.eraseRight(this.x, this.y);
    j = this.y + 1;
    for (; j &#x3c; this.rows; j++) {
        this.<span class="apidocCodeKeywordSpan">eraseLine</span>(j);
    }
    break;
case 1:
    this.eraseLeft(this.x, this.y);
    j = this.y;
    while (j--) {
        this.eraseLine(j);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.eraseRight" id="apidoc.element.hypernal.term.prototype.eraseRight">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>eraseRight
        <span class="apidocSignatureSpan">(x, y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">eraseRight = function (x, y) {
  var line = this.lines[this.ybase + y],
    ch = [this.curAttr, &#x27; &#x27;]; // xterm

  for (; x &#x3c; this.cols; x++) {
    line[x] = ch;
  }

  this.updateRange(y);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  x++;
  while (x--) line[x] = ch;

  this.updateRange(y);
};

Terminal.prototype.eraseLine = function(y) {
  this.<span class="apidocCodeKeywordSpan">eraseRight</span>(0, y);
};

// CSI Ps J Erase in Display (ED).
// Ps = 0 -&#x3e; Erase Below (default).
// Ps = 1 -&#x3e; Erase Above.
// Ps = 2 -&#x3e; Erase All.
// Ps = 3 -&#x3e; Erase Saved Lines (xterm).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.error" id="apidoc.element.hypernal.term.prototype.error">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>error
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function () {
  if (!Terminal.debug) return;
  if (!window.console || !window.console.error) return;
  var args = Array.prototype.slice.call(arguments);
  window.console.error.apply(window.console, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.log(&#x27;Switching back to normal keypad.&#x27;);
    this.applicationKeypad = false;
    this.state = states.normal;
    break;

  default:
    this.state = states.normal;
    this.<span class="apidocCodeKeywordSpan">error</span>(&#x27;Unknown ESC control: %s.&#x27;, ch);
    break;
  }
  break;

case states.charset:
  switch (ch) {
  case &#x27;0&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.index" id="apidoc.element.hypernal.term.prototype.index">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>index
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">index = function () {
  this.y++;
  if (this.y &#x3e; this.scrollBottom) {
    this.y--;
    this.scroll();
  }
  this.state = states.normal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // ESC E Next Line ( NEL is 0x85).
  // ESC D Index ( IND is 0x84).
case &#x27;E&#x27;:
  this.x = 0;
  break;
case &#x27;D&#x27;:
  this.<span class="apidocCodeKeywordSpan">index</span>();
  break;

  // ESC M Reverse Index ( RI is 0x8d).
case &#x27;M&#x27;:
  this.reverseIndex();
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.insertChars" id="apidoc.element.hypernal.term.prototype.insertChars">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertChars
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertChars = function (params) {
  var param, row, j, ch;

  param = params[0];
  if (param &#x3c; 1) param = 1;

  row = this.y + this.ybase;
  j = this.x;
  ch = [this.curAttr, &#x27; &#x27;]; // xterm

  while (param-- &#x26;&#x26; j &#x3c; this.cols) {
    this.lines[row].splice(j++, 0, ch);
    this.lines[row].pop();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  /**
  * Additions
  */

  // CSI Ps @
  // Insert Ps (Blank) Character(s) (default = 1) (ICH).
case &#x27;@&#x27;:
  this.<span class="apidocCodeKeywordSpan">insertChars</span>(this.params);
  break;

  // CSI Ps E
  // Cursor Next Line Ps Times (default = 1) (CNL).
case &#x27;E&#x27;:
  this.cursorNextLine(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.insertLines" id="apidoc.element.hypernal.term.prototype.insertLines">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>insertLines
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">insertLines = function (params) {
  var param, row, j;

  param = params[0];
  if (param &#x3c; 1) param = 1;
  row = this.y + this.ybase;

  j = this.rows - 1 - this.scrollBottom;
  j = this.rows - 1 + this.ybase - j + 1;

  while (param--) {
    // test: echo -e &#x27;\e[44m\e[1L\e[0m&#x27;
    // blankLine(true) - xterm/linux behavior
    this.lines.splice(row, 0, this.blankLine(true));
    this.lines.splice(j, 1);
  }

  // this.maxRange();
  this.updateRange(this.y);
  this.updateRange(this.scrollBottom);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;G&#x27;:
  this.cursorCharAbsolute(this.params);
  break;

  // CSI Ps L
  // Insert Ps Line(s) (default = 1) (IL).
case &#x27;L&#x27;:
  this.<span class="apidocCodeKeywordSpan">insertLines</span>(this.params);
  break;

  // CSI Ps M
  // Delete Ps Line(s) (default = 1) (DL).
case &#x27;M&#x27;:
  this.deleteLines(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.is" id="apidoc.element.hypernal.term.prototype.is">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>is
        <span class="apidocSignatureSpan">(term)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">is = function (term) {
  var name = this.termName || Terminal.termName;
  return (name + &#x27;&#x27;)
    .indexOf(term) === 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.curAttr = this.curAttr | (this.defAttr &#x26; 0x1ff);
} else if (p === 38) {
  // fg color 256
  if (params[i + 1] !== 5) continue;
  i += 2;
  p = params[i] &#x26; 0xff;
  // convert 88 colors to 256
  // if (this.<span class="apidocCodeKeywordSpan">is</span>(&#x27;rxvt-unicode&#x27;) &#x26;&#x26; p &#x3c; 88) p = p * 2.9090 |
0;
  this.curAttr = (this.curAttr &#x26; ~ (0x1ff &#x3c;&#x3c; 9)) | (p &#x3c;&#x3c; 9);
} else if (p === 48) {
  // bg color 256
  if (params[i + 1] !== 5) continue;
  i += 2;
  p = params[i] &#x26; 0xff;
  // convert 88 colors to 256
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.linePosAbsolute" id="apidoc.element.hypernal.term.prototype.linePosAbsolute">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>linePosAbsolute
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">linePosAbsolute = function (params) {
    var param = params[0];
    if (param &#x3c; 1) param = 1;
    this.y = param - 1;
    if (this.y &#x3e;= this.rows) {
        this.y = this.rows - 1;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;c&#x27;:
  //- this.sendDeviceAttributes(this.params);
  break;

  // CSI Pm d
  // Line Position Absolute [row] (default = [1,column]) (VPA).
case &#x27;d&#x27;:
  this.<span class="apidocCodeKeywordSpan">linePosAbsolute</span>(this.params);
  break;

  // 145 65 e * VPR - Vertical Position Relative
case &#x27;e&#x27;:
  this.VPositionRelative(this.params);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.log" id="apidoc.element.hypernal.term.prototype.log">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
  if (!Terminal.debug) return;
  if (!window.console || !window.console.log) return;
  var args = Array.prototype.slice.call(arguments);
  window.console.log.apply(window.console, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
this.refreshEnd = this.y;

if (this.ybase !== this.ydisp) {
  this.ydisp = this.ybase;
  this.maxRange();
}

// this.<span class="apidocCodeKeywordSpan">log</span>(JSON.stringify(data.replace(/\x1b/g, &#x27;^[&#x27;)));

for (; i &#x3c; l; i++) {
  ch = data[i];
  switch (this.state) {
  case states.normal:
    switch (ch) {
      // &#x27;\0&#x27;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.maxRange" id="apidoc.element.hypernal.term.prototype.maxRange">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>maxRange
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">maxRange = function () {
  this.refreshStart = 0;
  this.refreshEnd = this.rows - 1;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  cs, ch;

this.refreshStart = this.y;
this.refreshEnd = this.y;

if (this.ybase !== this.ydisp) {
  this.ydisp = this.ybase;
  this.<span class="apidocCodeKeywordSpan">maxRange</span>();
}

// this.log(JSON.stringify(data.replace(/\x1b/g, &#x27;^[&#x27;)));

for (; i &#x3c; l; i++) {
  ch = data[i];
  switch (this.state) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.nextStop" id="apidoc.element.hypernal.term.prototype.nextStop">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>nextStop
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextStop = function (x) {
    if (x == null) x = this.x;
    while (!this.tabs[++x] &#x26;&#x26; x &#x3c; this.cols);
    return x &#x3e;= this.cols ? this.cols - 1 : x &#x3c; 0 ? 0 : x;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (this.x &#x3e; 0) {
    this.x--;
  }
  break;

  // &#x27;\t&#x27;
case &#x27;\t&#x27;:
  this.x = this.<span class="apidocCodeKeywordSpan">nextStop</span>();
  break;

  // shift out
case &#x27;\x0e&#x27;:
  this.setgLevel(1);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.open" id="apidoc.element.hypernal.term.prototype.open">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>open
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">open = function () {
  var self = this,
    i = 0,
    div;

  this.element = document.createElement(&#x27;div&#x27;);
  this.element.className = &#x27;terminal&#x27;;
  this.children = [];

  for (; i &#x3c; this.rows; i++) {
    div = document.createElement(&#x27;div&#x27;);
    this.element.appendChild(div);
    this.children.push(div);
  }

  this.refresh(0, this.rows - 1);

  // XXX - hack, move this somewhere else.
  if (Terminal.brokenBold === null) {
    Terminal.brokenBold = isBoldBroken();
  }

  // sync default bg/fg colors
  this.element.style.backgroundColor = Terminal.defaultColors.bg;
  this.element.style.color = Terminal.defaultColors.fg;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function scroll(elem) {
  if (!elem) return;
  elem.scrollTop = elem.scrollHeight;
}

module.exports = function (opts) {
  var term = new Terminal(opts);
  term.<span class="apidocCodeKeywordSpan">open</span>();

  var hypernal = through(term.write.bind(term));
  hypernal.appendTo = function (parent) {
if (typeof parent === &#x27;string&#x27;) parent = document.querySelector(parent);

parent.appendChild(term.element);
style(parent);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.prevStop" id="apidoc.element.hypernal.term.prototype.prevStop">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>prevStop
        <span class="apidocSignatureSpan">(x)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevStop = function (x) {
    if (x == null) x = this.x;
    while (!this.tabs[--x] &#x26;&#x26; x &#x3e; 0);
    return x &#x3e;= this.cols ? this.cols - 1 : x &#x3c; 0 ? 0 : x;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ignore warnings regarging == and != (coersion makes things work here appearently)

module.exports = function (Terminal) {

  Terminal.prototype.setupStops = function(i) {
if (i != null) {
    if (!this.tabs[i]) {
        i = this.<span class="apidocCodeKeywordSpan">prevStop</span>(i);
    }
} else {
    this.tabs = {};
    i = 0;
}

for (; i &#x3c; this.cols; i += 8) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.refresh" id="apidoc.element.hypernal.term.prototype.refresh">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>refresh
        <span class="apidocSignatureSpan">(start, end)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">refresh = function (start, end) {
  var x, y, i, line, out, ch, width, data, attr, fgColor, bgColor, flags, row, parent;


  width = this.cols;
  y = start;

  for (; y &#x3c;= end; y++) {
    row = y + this.ydisp;

    line = this.lines[row];
    if (!line) {
      // simple solution in case we have more lines than rows
      // could be improved to instead remove first line (and related html element)
      return this.reset();
    }

    out = &#x27;&#x27;;

    if (y === this.y &#x26;&#x26; this.cursorState &#x26;&#x26; this.ydisp === this.ybase &#x26;&#x26; !this.cursorHidden) {
      x = this.x;
    } else {
      x = -1;
    }

    attr = this.defAttr;
    i = 0;

    for (; i &#x3c; width; i++) {
      data = line[i][0];
      ch = line[i][1];

      if (i === x) data = -1;

      if (data !== attr) {
        if (attr !== this.defAttr) {
          out += &#x27;&#x3c;/span&#x3e;&#x27;;
        }
        if (data !== this.defAttr) {
          if (data === -1) {
            out += &#x27;&#x3c;span class=&#x22;reverse-video&#x22;&#x3e;&#x27;;
          } else {
            out += &#x27;&#x3c;span style=&#x22;&#x27;;

            bgColor = data &#x26; 0x1ff;
            fgColor = (data &#x3e;&#x3e; 9) &#x26; 0x1ff;
            flags = data &#x3e;&#x3e; 18;

            if (flags &#x26; 1) {
              if (!Terminal.brokenBold) {
                out += &#x27;font-weight:bold;&#x27;;
              }
              // see: XTerm*boldColors
              if (fgColor &#x3c; 8) fgColor += 8;
            }

            if (flags &#x26; 2) {
              out += &#x27;text-decoration:underline;&#x27;;
            }

            if (bgColor !== 256) {
              out += &#x27;background-color:&#x27; + Terminal.colors[bgColor] + &#x27;;&#x27;;
            }

            if (fgColor !== 257) {
              out += &#x27;color:&#x27; + Terminal.colors[fgColor] + &#x27;;&#x27;;
            }

            out += &#x27;&#x22;&#x3e;&#x27;;
          }
        }
      }

      switch (ch) {
      case &#x27;&#x26;&#x27;:
        out += &#x27;&#x26;&#x27;;
        break;
      case &#x27;&#x3c;&#x27;:
        out += &#x27;&#x3c;&#x27;;
        break;
      case &#x27;&#x3e;&#x27;:
        out += &#x27;&#x3e;&#x27;;
        break;
      default:
        if (ch &#x3c;= &#x27; &#x27;) {
          out += &#x27; &#x27;;
        } else {
          out += ch;
        }
        break;
      }

      attr = data;
    }

    if (attr !== this.defAttr) {
      out += &#x27;&#x3c;/span&#x3e;&#x27;;
    }

    this.children[y].innerHTML = out;
  }

  if (parent) parent.appendChild(this.element);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

&#x27;use strict&#x27;;

module.exports = function (Terminal) {
Terminal.prototype.cursorBlink = function() {
  if (Terminal.focus !== this) return;
  this.cursorState ^= 1;
  this.<span class="apidocCodeKeywordSpan">refresh</span>(this.y, this.y);
};

Terminal.prototype.showCursor = function() {
  if (!this.cursorState) {
    this.cursorState = 1;
    this.refresh(this.y, this.y);
  } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.repeatPrecedingCharacter" id="apidoc.element.hypernal.term.prototype.repeatPrecedingCharacter">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>repeatPrecedingCharacter
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">repeatPrecedingCharacter = function (params) {
  var param = params[0] || 1,
    line = this.lines[this.ybase + this.y],
    ch = line[this.x - 1] || [this.defAttr, &#x27; &#x27;];

  while (param--) line[this.x++] = ch;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).
case &#x27;Z&#x27;:
  this.cursorBackwardTab(this.params);
  break;

  // CSI Ps b Repeat the preceding graphic character Ps times (REP).
case &#x27;b&#x27;:
  this.<span class="apidocCodeKeywordSpan">repeatPrecedingCharacter</span>(this.params);
  break;

  // CSI Ps g Tab Clear (TBC).
case &#x27;g&#x27;:
  this.tabClear(this.params);
  break;
case &#x27;p&#x27;:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.reset" id="apidoc.element.hypernal.term.prototype.reset">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  Terminal.call(this, this.cols, this.rows);
  this.refresh(0, this.rows - 1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

writes the given string to the terminal.

***term.writeln(s:String)***

writes the given string to the terminal and adds a line break.

***term.<span class="apidocCodeKeywordSpan">reset</span>()***

clears the terminal

## Kudos

hypernal is basically a trimmed down version of [tty.js](https://github.com/chjj/tty.js/) focused on and improved for rendering
only.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.restoreCursor" id="apidoc.element.hypernal.term.prototype.restoreCursor">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>restoreCursor
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restoreCursor = function (params) {
  this.x = this.savedX || 0;
  this.y = this.savedY || 0;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;7&#x27;:
  this.saveCursor();
  this.state = states.normal;
  break;

  // ESC 8 Restore Cursor (DECRC).
case &#x27;8&#x27;:
  this.<span class="apidocCodeKeywordSpan">restoreCursor</span>();
  this.state = states.normal;
  break;

  // ESC # 3 DEC line height/width
case &#x27;#&#x27;:
  this.state = states.normal;
  i++;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.reverseIndex" id="apidoc.element.hypernal.term.prototype.reverseIndex">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>reverseIndex
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reverseIndex = function () {
  var j;
  this.y--;
  if (this.y &#x3c; this.scrollTop) {
    this.y++;
    // possibly move the code below to term.reverseScroll();
    // test: echo -ne &#x27;\e[1;1H\e[44m\eM\e[0m&#x27;
    // blankLine(true) is xterm/linux behavior
    this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));
    j = this.rows - 1 - this.scrollBottom;
    this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);
    // this.maxRange();
    this.updateRange(this.scrollTop);
    this.updateRange(this.scrollBottom);
  }
  this.state = states.normal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  break;
case &#x27;D&#x27;:
  this.index();
  break;

  // ESC M Reverse Index ( RI is 0x8d).
case &#x27;M&#x27;:
  this.<span class="apidocCodeKeywordSpan">reverseIndex</span>();
  break;

  // ESC % Select default/utf-8 character set.
  // @ = default, G = utf-8
case &#x27;%&#x27;:
  //this.charset = null;
  this.setgLevel(0);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.saveCursor" id="apidoc.element.hypernal.term.prototype.saveCursor">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>saveCursor
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">saveCursor = function (params) {
  this.savedX = this.x;
  this.savedY = this.y;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Invoke the G1 Character Set as GR (LS1R).
case &#x27;~&#x27;:
  this.setgLevel(1);
  break;

  // ESC 7 Save Cursor (DECSC).
case &#x27;7&#x27;:
  this.<span class="apidocCodeKeywordSpan">saveCursor</span>();
  this.state = states.normal;
  break;

  // ESC 8 Restore Cursor (DECRC).
case &#x27;8&#x27;:
  this.restoreCursor();
  this.state = states.normal;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.setupStops" id="apidoc.element.hypernal.term.prototype.setupStops">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>setupStops
        <span class="apidocSignatureSpan">(i)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setupStops = function (i) {
    if (i != null) {
        if (!this.tabs[i]) {
            i = this.prevStop(i);
        }
    } else {
        this.tabs = {};
        i = 0;
    }

    for (; i &#x3c; this.cols; i += 8) {
        this.tabs[i] = true;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.lines = [];
  var i = this.rows;
  while (i--) {
      this.lines.push(this.blankLine());
  }

  this.tabs;
  this.<span class="apidocCodeKeywordSpan">setupStops</span>();
}

require(&#x27;./lib/colors&#x27;)(Terminal);
require(&#x27;./lib/options&#x27;)(Terminal);

require(&#x27;./lib/open&#x27;)(Terminal);
require(&#x27;./lib/destroy&#x27;)(Terminal);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.softReset" id="apidoc.element.hypernal.term.prototype.softReset">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>softReset
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">softReset = function (params) {
  this.cursorHidden = false;
  this.insertMode = false;
  this.originMode = false;
  this.wraparoundMode = false; // autowrap
  this.applicationKeypad = false; // ?
  this.scrollTop = 0;
  this.scrollBottom = this.rows - 1;
  this.curAttr = this.defAttr;
  this.x = this.y = 0; // ?
  this.charset = null;
  this.glevel = 0; // ??
  this.charsets = [null]; // ??
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps g Tab Clear (TBC).
case &#x27;g&#x27;:
  this.tabClear(this.params);
  break;
case &#x27;p&#x27;:
  switch (this.prefix) {
  case &#x27;!&#x27;:
    this.<span class="apidocCodeKeywordSpan">softReset</span>(this.params);
    break;
  }
  break;

default:
  this.error(&#x27;Unknown CSI code: %s.&#x27;, ch);
  break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.tabClear" id="apidoc.element.hypernal.term.prototype.tabClear">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabClear
        <span class="apidocSignatureSpan">(params)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tabClear = function (params) {
  var param = params[0];
  if (param &#x3c;= 0) {
    delete this.tabs[this.x];
  } else if (param === 3) {
    this.tabs = {};
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // CSI Ps b Repeat the preceding graphic character Ps times (REP).
case &#x27;b&#x27;:
  this.repeatPrecedingCharacter(this.params);
  break;

  // CSI Ps g Tab Clear (TBC).
case &#x27;g&#x27;:
  this.<span class="apidocCodeKeywordSpan">tabClear</span>(this.params);
  break;
case &#x27;p&#x27;:
  switch (this.prefix) {
  case &#x27;!&#x27;:
    this.softReset(this.params);
    break;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.tabSet" id="apidoc.element.hypernal.term.prototype.tabSet">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>tabSet
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">tabSet = function () {
  this.tabs[this.x] = true;
  this.state = states.normal;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case &#x27;#&#x27;:
  this.state = states.normal;
  i++;
  break;

  // ESC H Tab Set (HTS is 0x88).
case &#x27;H&#x27;:
  this.<span class="apidocCodeKeywordSpan">tabSet</span>();
  break;

  // ESC = Application Keypad (DECPAM).
case &#x27;=&#x27;:
  this.log(&#x27;Serial port requested application keypad.&#x27;);
  this.applicationKeypad = true;
  this.state = states.normal;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.updateRange" id="apidoc.element.hypernal.term.prototype.updateRange">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>updateRange
        <span class="apidocSignatureSpan">(y)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateRange = function (y) {
  if (y &#x3c; this.refreshStart) this.refreshStart = y;
  if (y &#x3e; this.refreshEnd) this.refreshEnd = y;
  addRowsOnDemand.bind(this)();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var line = this.lines[this.ybase + y],
  ch = [this.curAttr, &#x27; &#x27;]; // xterm

for (; x &#x3c; this.cols; x++) {
  line[x] = ch;
}

this.<span class="apidocCodeKeywordSpan">updateRange</span>(y);
  };

  Terminal.prototype.eraseLeft = function(x, y) {
var line = this.lines[this.ybase + y],
  ch = [this.curAttr, &#x27; &#x27;]; // xterm

x++;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.write" id="apidoc.element.hypernal.term.prototype.write">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>write
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (data) {

  data = fixLinefeed(data);
  data = fixIndent(data);

  var l = data.length,
    i = 0,
    cs, ch;

  this.refreshStart = this.y;
  this.refreshEnd = this.y;

  if (this.ybase !== this.ydisp) {
    this.ydisp = this.ybase;
    this.maxRange();
  }

  // this.log(JSON.stringify(data.replace(/\x1b/g, &#x27;^[&#x27;)));

  for (; i &#x3c; l; i++) {
    ch = data[i];
    switch (this.state) {
    case states.normal:
      switch (ch) {
        // &#x27;\0&#x27;
        // case &#x27;\0&#x27;:
        // break;

        // &#x27;\a&#x27;
      case &#x27;\x07&#x27;:
        this.bell();
        break;

        // &#x27;\n&#x27;, &#x27;\v&#x27;, &#x27;\f&#x27;
      case &#x27;\n&#x27;:
      case &#x27;\x0b&#x27;:
      case &#x27;\x0c&#x27;:
        if (this.convertEol) {
          this.x = 0;
        }
        this.y++;
        break;

        // &#x27;\r&#x27;
      case &#x27;\r&#x27;:
        this.x = 0;
        break;

        // &#x27;\b&#x27;
      case &#x27;\x08&#x27;:
        if (this.x &#x3e; 0) {
          this.x--;
        }
        break;

        // &#x27;\t&#x27;
      case &#x27;\t&#x27;:
        this.x = this.nextStop();
        break;

        // shift out
      case &#x27;\x0e&#x27;:
        this.setgLevel(1);
        break;

        // shift in
      case &#x27;\x0f&#x27;:
        this.setgLevel(0);
        break;

        // &#x27;\e&#x27;
      case &#x27;\x1b&#x27;:
        this.state = states.escaped;
        break;

      default:
        // &#x27; &#x27;
        if (ch &#x3e;= &#x27; &#x27;) {
          if (this.charset &#x26;&#x26; this.charset[ch]) {
            ch = this.charset[ch];
          }
          if (this.x &#x3e;= this.cols) {
            this.x = 0;
            this.y++;
          }

          // FIXME: this prevents errors from being thrown, but needs a proper fix
          if (this.lines[this.y + this.ybase])
            this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];

          this.x++;
          this.updateRange(this.y);
        }
        break;
      }
      break;
    case states.escaped:
      switch (ch) {
        // ESC [ Control Sequence Introducer ( CSI is 0x9b).
      case &#x27;[&#x27;:
        this.params = [];
        this.currentParam = 0;
        this.state = states.csi;
        break;

        // ESC ] Operating System Command ( OSC is 0x9d).
      case &#x27;]&#x27;:
        this.params = [];
        this.currentParam = 0;
        this.state = states.osc;
        break;

        // ESC P Device Control String ( DCS is 0x90).
      case &#x27;P&#x27;:
        this.params = [];
        this.currentParam = 0;
        this.state = states.dcs;
        break;

        // ESC _ Application Program Command ( APC is 0x9f).
      case &#x27;_&#x27;:
        this.stateType = &#x27;apc&#x27;;
        this.state = states.ignore;
        break;

        // ESC ^ Privacy Message ( PM is 0x9e).
      case &#x27;^&#x27;:
        this.stateType = &#x27;pm&#x27;;
        this.state = states.ignore;
        break;

        // ESC c Full Reset (RIS).
      case &#x27;c&#x27;:
        this.reset();
        break;

        // ESC E Next Line ( NEL is 0x85).
        // ESC D Index ( IND is 0x84).
      case &#x27;E&#x27;:
        this.x = 0;
        break;
      case &#x27;D&#x27;:
        this.index();
        break;

        // ESC M Reverse Index ( RI is 0x8d).
      case &#x27;M&#x27;:
        this.reverseIndex();
        break;

        // ESC % Select default/utf-8 character set.
        // @ = default, G = utf-8
      case &#x27;%&#x27;:
        //this.charset = null;
        this.setgLevel(0);
        this.setgCharset(0, Terminal.charsets.US);
        this.state = states.normal;
        i++;
        break;

        // ESC (,),*,+,-,. Designate G0-G2 Character Set.
      case &#x27;(&#x27;:
        // &#x3c;-- this seems to get all the attention
      case &#x27;)&#x27;:
      case &#x27;*&#x27;:
      case &#x27;+&#x27;:
      case &#x27;-&#x27;:
      case &#x27;.&#x27;:
        switch (ch) {
        case &#x27;(&#x27;:
          this.gcharset = 0;
          break;
        case &#x27;)&#x27;:
          this.gcharset = 1;
          break;
        case &#x27;*&#x27;:
          this.gcharset = 2;
          break;
        case &#x27;+&#x27;:
          this.gcharset = 3;
          break;
        case &#x27;-&#x27;:
          this.gcharset = 1;
          break;
        case &#x27;.&#x27;:
          this.gcharset = 2;
          break;
        }
        this.state = states.charset;
        break;

        // Designate G3 Character Set (VT300). ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var difflet = require(&#x27;difflet&#x27;)({
    indent : 2
  , comma : &#x27;first&#x27;
  , comment: true
  });

var diff = difflet.compare({ a : [1, 2, 3 ], c : 5 }, { a : [1, 2, 3, 4 ], b : 4 });
term.<span class="apidocCodeKeywordSpan">write</span>(diff);
```

**browserify-build.js**
```js
require(&#x27;browserify&#x27;)()
.require(require.resolve(&#x27;./main.js&#x27;), { entry: true })
.bundle()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.hypernal.term.prototype.writeln" id="apidoc.element.hypernal.term.prototype.writeln">
        function <span class="apidocSignatureSpan">hypernal.term.prototype.</span>writeln
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeln = function (data) {
  // at times spaces appear in between escape chars and fixIndent fails us, so we fix it here
  data = data.replace(/ /g, &#x27;&#x26;nbsp;&#x27;);
  // adding empty char before line break ensures that empty lines render properly
  this.write(data + &#x27; \r\n&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

appends the terminal to the given DOM element.

***term.write(s:String)***

writes the given string to the terminal.

***term.<span class="apidocCodeKeywordSpan">writeln</span>(s:String)***

writes the given string to the terminal and adds a line break.

***term.reset()***

clears the terminal
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
